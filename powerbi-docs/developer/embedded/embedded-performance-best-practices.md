---
title: แนวทางปฏิบัติที่ดีที่สุดเพื่อประสิทธิภาพการทำงานของ Power BI Embedded
description: บทความนี้มีคำแนะนำสำหรับแนวทางปฏิบัติที่ดีที่สุดเพื่อการวิเคราะห์แบบฝัง
author: KesemSharabi
ms.author: kesharab
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-developer
ms.topic: conceptual
ms.date: 12/12/2018
ms.openlocfilehash: ba0a85958fad500bd27f4697a7f46961ca430f49
ms.sourcegitcommit: 0b1e96de184caf2371adedcc3ee43bcb88048187
ms.contentlocale: th-TH
ms.lasthandoff: 06/24/2020
ms.locfileid: "85299583"
---
# <a name="power-bi-embedded-performance-best-practices"></a>แนวทางปฏิบัติที่ดีที่สุดเพื่อประสิทธิภาพการทำงานของ Power BI Embedded

บทความนี้มีคำแนะนำสำหรับการแสดงรายงาน แดชบอร์ด และไทล์ในแอปพลิเคชันของคุณได้เร็วขึ้น

> [!Note]
> โปรดจำไว้ว่าเวลาการโหลดส่วนใหญ่จะขึ้นอยู่กับองค์ประกอบที่เกี่ยวข้องกับรายงานและข้อมูลของตัวเองรวมถึงภาพ ขนาดของข้อมูล และความซับซ้อนของคิวรีและหน่วยวัด สำหรับข้อมูลเพิ่มเติม โปรดดู[คำแนะนำการปรับให้เหมาะสมสำหรับ Power BI](../../guidance/power-bi-optimization.md)

## <a name="update-tools-and-sdk-packages"></a>เครื่องมืออัปเดตและแพคเกจ SDK

ปรับปรุงเครื่องมือและแพคเกจ SDK ให้ทันสมัยอยู่เสมอ

* ใช้ [Power Bi Desktop](https://powerbi.microsoft.com/desktop/) เวอร์ชันล่าสุดเสมอ

* ติดตั้ง [Power BI client SDK](https://github.com/Microsoft/PowerBI-JavaScript) เวอร์ชันล่าสุด เรายังคงมีการปรับปรุงประสิทธิภาพเพิ่มเติมอย่างต่อเนื่อง ดังนั้นอย่าลืมที่จะติดตามการอัปเดตจากเรา

## <a name="embed-parameters"></a>พารามิเตอร์แบบฝัง

วิธี`powerbi.embed(element, config)`การรับองค์ประกอบและการกำหนดค่า ตัวเลขพารามิเตอร์ ประกอบด้วยเขตข้อมูลที่มีผลกระทบต่อประสิทธิภาพการทำงาน

### <a name="embed-url"></a>URL แบบฝัง

หลีกเลี่ยงการสร้าง URL แบบฝังด้วยตัวคุณเอง แต่คุณควรตรวจสอบให้แน่ใจว่าคุณได้รับ URL แบบฝัง โดยการเรียก API [รับรายงาน](/rest/api/power-bi/reports/getreportsingroup), [รับแดชบอร์ด](/rest/api/power-bi/dashboards/getdashboardsingroup) หรือ[รับไทล์](/rest/api/power-bi/dashboards/gettilesingroup) เราได้เพิ่มพารามิเตอร์ใหม่ใน URL ที่เรียกว่า **_config_** ซึ่งใช้สำหรับการปรับปรุงประสิทธิภาพการทำงาน

### <a name="permissions"></a>การอนุญาต

ระบุสิทธิ**ดู** หากคุณไม่ต้องการฝังรายงานในโหมดแก้ไข โค้ดที่ฝังด้วยวิธีนี้จะไม่เริ่มต้นคอมโพเนนต์ซึ่งใช้สำหรับโหมดแก้ไข

### <a name="filters-bookmarks-and-slicers"></a>ตัวกรอง บุ๊กมาร์ก และตัวแบ่งส่วนข้อมูล

โดยปกติ วิชวลในรายงานจะถูกบันทึกด้วยข้อมูลที่แคช ข้อมูลที่แคชถูกนำมาใช้เพื่อประสิทธิภาพการทำงานที่ดีมากขึ้น รายงานจะแสดงข้อมูลที่แคชขณะดำเนินการคิวรี ถ้ามีการระบุตัวกรองบุ๊กมาร์กหรือการแบ่งส่วนข้อมูลที่แคชไว้ไม่เกี่ยวข้องกันกับภาพจะแสดงขึ้นหลังจากที่มีการสิ้นสุดแบบสอบถามวิชวลเท่านั้น

ถ้าคุณฝังรายงานที่มีตัวกรองเดียวกันdyบุ๊กมาร์กและตัวแบ่งส่วนข้อมูลเพื่อปรับปรุงประสิทธิภาพการทำงานของคุณ ให้บันทึกรายงานด้วยตัวกรองบุ๊กมาร์กและแบ่งส่วนข้อมูลที่ใช้อยู่แล้ว ซึ่งแสดงรายงานด้วยข้อมูลที่แคชไว้ซึ่งรวมถึงตัวกรองบุ๊กมาร์กและตัวแบ่งส่วนข้อมูล

## <a name="switching-between-reports"></a>การสลับไปมาระหว่างรายงาน

เมื่อฝังรายงานหลายฉบับไปยัง iframe เดียวกันไม่ต้องสร้าง iframe ใหม่สำหรับแต่ละรายงาน ให้ใช้`powerbi.embed(element, config)`กับการกำหนดค่าที่แตกต่างกันแทนเพื่อฝังรายงานใหม่

> [!NOTE]
> การสลับระหว่างรายงานเมื่อทำการฝังสำหรับลูกค้าของคุณ (เรียกอีกอย่างว่าสถานการณ์ 'แอปเป็นเจ้าของข้อมูล') ต้องใช้โทเค็นการฝังที่มีสิทธิ์ในการรายงานและชุดข้อมูลทั้งหมด สำหรับข้อมูลเพิ่มเติมดู [สร้างโทเค็น API](https://docs.microsoft.com/rest/api/power-bi/embedtoken/generatetoken)

## <a name="query-caching"></a>การแคชคิวรี

องค์กรที่มีความจุของ Power BI Premium หรือความจุใน Power BI แบบฝังตัว สามารถใช้ประโยชน์จากการแคชคิวรีเพื่อให้รายงานที่เกี่ยวข้องกับชุดข้อมูลแสดงผลเร็วขึ้น

[เรียนรู้เพิ่มเติมเกี่ยวกับการแคชของแบบสอบถามใน Power BI](../../connect-data/power-bi-query-caching.md)

## <a name="preload"></a>พรีโหลด

ใช้ `powerbi.preload()` เพื่อปรับปรุงประสิทธิภาพการทำงานของผู้ใช้ปลายทาง เมธอด `powerbi.preload()` จะดาวน์โหลด Javascript, ไฟล์ css และวัตถุอื่นๆ ซึ่งจะนำไปใช้ในภายหลังเพื่อฝังในรายงาน

เรียกใช้ `powerbi.preload()` หากคุณไม่ได้ฝังรายงานไว้ทันที ตัวอย่างเช่น ถ้าเนื้อหาที่ฝังตัวของ Power BI ไม่ปรากฏในโฮมเพจ ให้ใช้ `powerbi.preload()` เพื่อดาวน์โหลดและแคชในวัตถุที่ใช้สำหรับการฝังเนื้อหา

## <a name="bootstrapping-the-iframe"></a>การบูทสเตรป iframe

> [!NOTE]
> จำเป็นต้องใช้ [Power BI ไคลเอ็นต์ SDK](https://github.com/Microsoft/PowerBI-JavaScript) เวอร์ชัน 2.9 ในการบูทสเตรป iframe

`powerbi.bootstrap(element, config)` ช่วยให้คุณสามารถเริ่มต้นการฝังก่อนพารามิเตอร์ที่จำเป็นทั้งหมดจะพร้อมใช้งาน API บูทสเตรปจะเตรียมและเริ่มต้นใช้งาน iframe
เมื่อใช้ API บูทสเตรป จะยังคงจำเป็นต้องเรียกใช้ `powerbi.embed(element, config)` บนองค์ประกอบ HTML เดียวกัน

ตัวอย่างเช่น หนึ่งในกรณีการใช้งานสำหรับคุณลักษณะนี้คือการเรียกใช้งานการบูทสเตรป iframe และการเรียกใช้ที่ทำงานอยู่ส่วนหลังสำหรับการฝังแบบขนาน
> [!TIP]
> ใช้ API บูทสเตรปในขณะที่คุณสามารถสร้าง iframe ก่อนที่ผู้ใช้ปลายทางจะมองเห็นได้

[เรียนรู้เพิ่มเติมเกี่ยวกับ iframe บูทสเตรป](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Bootstrap-For-Better-Performance)

## <a name="measure-performance"></a>วัดประสิทธิภาพการทำงาน

### <a name="performance-events"></a>ประสิทธิภาพการทำงาน

ในการวัดประสิทธิภาพการทำงานแบบฝังตัวคุณอาจใช้สองเหตุการณ์:

1. เหตุการณ์ที่โหลด: เวลาจนกว่าจะมีการเตรียมใช้งานรายงาน (โลโก้ Power BI จะหายไปเมื่อโหลดเสร็จสิ้น)
2. เหตุการณ์การแสดงผล: แสดงผลแล้ว: เวลาจนกว่ารายงานทั้งหมดจะแสดงผลโดยใช้ข้อมูลจริง เหตุการณ์ที่แสดงผลถูกเรียกใช้ในแต่ละครั้งที่มีการแสดงผลรายงานอีกครั้ง (ยกตัวอย่างเช่นหลังจากใช้ตัวกรอง) ในการวัดรายงาน คุณควรแน่ใจว่าคุณทำการคำนวณในเหตุการณ์ที่เกิดขึ้นครั้งแรกแล้ว

ข้อมูลที่แคชไว้จะถูกแสดงเมื่อพร้อมใช้งานแต่ไม่มีการสร้างเหตุการณ์เพิ่มเติม

[เรียนรู้เพิ่มเติมเกี่ยวกับการจัดการเหตุการณ์](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Handling-Events)

### <a name="performance-analyzer"></a>ตัววิเคราะห์ประสิทธิภาพ

เมื่อต้องการตรวจสอบประสิทธิภาพการทำงานขององค์ประกอบรายงานคุณอาจใช้ตัววิเคราะห์ประสิทธิภาพใน Power BI Desktop
ตัววิเคราะห์ประสิทธิภาพการทำงานจะช่วยให้คุณสามารถดูและบันทึกบันทึกที่วัดว่าแต่ละองค์ประกอบรายงานของคุณดำเนินการได้อย่างไร

[เรียนรู้เพิ่มเติมเกี่ยวกับตัววิเคราะห์ประสิทธิภาพ](../../create-reports/desktop-performance-analyzer.md)

> [!NOTE]
> โปรดอย่าลืมเปรียบเทียบประสิทธิภาพรายงานแบบฝังตัวเพื่อประสิทธิภาพการทำงานบน powerbi.com ซึ่งอาจช่วยให้คุณเข้าใจจุดเริ่มต้นของปัญหาด้านประสิทธิภาพการทำงานของคุณ

## <a name="next-steps"></a>ขั้นตอนถัดไป

* [คำแนะนำการปรับให้เหมาะสมสำหรับ Power BI](../../guidance/power-bi-optimization.md)
* [วิธีการแก้ไขปัญหา Power BI Embedded](embedded-troubleshoot.md)
* [คำถามที่พบบ่อยสำหรับ Power BI Embedded](embedded-faq.md)
