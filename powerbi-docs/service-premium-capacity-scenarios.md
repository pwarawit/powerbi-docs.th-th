---
title: Microsoft Power BI Premium ความจุสถานการณ์
description: อธิบายสถานการณ์ความจุ Power BI Premium ทั่วไป
author: mgblythe
ms.author: mblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: conceptual
ms.date: 04/09/2019
ms.custom: seodec18
LocalizationGroup: Premium
ms.openlocfilehash: 1d666a6702515a935d93549d026f207848f2bca8
ms.sourcegitcommit: 60dad5aa0d85db790553e537bf8ac34ee3289ba3
ms.translationtype: MT
ms.contentlocale: th-TH
ms.lasthandoff: 05/29/2019
ms.locfileid: "65565363"
---
# <a name="premium-capacity-scenarios"></a>สถานการณ์ความจุ premium

บทความนี้อธิบายสถานการณ์จริงที่มีการใช้งานความจุ premium Power BI ปัญหาและความท้าทายทั่วไปจะ อธิบาย นอกจากนี้วิธีการระบุปัญหา และช่วยแก้ไขปัญหาเหล่านี้:

- [รักษาชุดข้อมูลล่าสุด](#keeping-datasets-up-to-date)
- [การระบุชุดข้อมูลที่ตอบสนองช้า](#identifying-slow-responding-datasets)
- [การระบุสาเหตุสำหรับชุดข้อมูลที่ตอบสนองช้าเป็นระยะ ๆ ](#identifying-causes-for-sporadically-slow-responding-datasets)
- [การตรวจสอบว่ามีหน่วยความจำเพียงพอหรือไม่](#determining-whether-there-is-enough-memory)
- [การตรวจสอบว่ามี CPU เพียงพอหรือไม่](#determining-whether-there-is-enough-cpu)

ขั้นตอน พร้อมกับตัวอย่างแผนภูมิและตารางมาจากการ**แอป Power BI Premium ความจุเมตริก**ที่เป็นผู้ดูแลระบบ Power BI จะสามารถเข้าถึง

## <a name="keeping-datasets-up-to-date"></a>รักษาชุดข้อมูลล่าสุด

ในสถานการณ์นี้ การตรวจสอบถูกทริกเกอร์เมื่อผู้ใช้ร้องเรียนว่าข้อมูลรายงานในบางครั้งดูเหมือนว่าเก่าหรือ “ไม่เป็นปัจจุบัน”

ในแอป ผู้ดูแลระบบโต้ตอบกับวิชวล**รีเฟรช** จากนั้นเรียงลำดับชุดข้อมูลโดยสถิติ**เวลารอสูงสุด**จากมากไปน้อย ภาพนี้ช่วยให้พวกเขาแสดงชุดข้อมูลที่มีเวลารอนานที่สุด จัดกลุ่มตามชื่อพื้นที่ทำงาน

![ชุดข้อมูลจะรีเฟรชโดยเรียงลำดับตามเวลารอสูงสุดจากมากไปน้อย, จัดกลุ่มตามพื้นที่ทำงาน](media/service-premium-capacity-scenarios/dataset-refreshes.png)

ในการ**ชั่วโมงโดยเฉลี่ยรีเฟรชรอครั้ง**ภาพ พวกเขาโปรดสังเกตว่า เวลารอรีเฟรชสูงสุดอย่างต่อเนื่องประมาณ 4 น.แต่ละวัน

![การรอรีเฟรชสูงสุดเป็นระยะ ๆ ที่เวลา 16.00 น.](media/service-premium-capacity-scenarios/peak-refresh-waits.png)

มีคำอธิบายที่เป็นไปได้มากมายสำหรับผลลัพธ์เหล่านี้:

- ความพยายามรีเฟรชมากเกินไปอาจจะเกิดขึ้นในเวลาเดียวกัน เกินขีดจำกัดที่กำหนด โดยโหนดความจุ ในกรณีนี้ รีเฟรชพร้อมกัน 6 บน P1 ด้วยค่าเริ่มต้นจัดสรรหน่วยความจำ

- ชุดข้อมูลถูกรีเฟรชอาจใหญ่เกินไปลงในหน่วยความจำที่พร้อมใช้งาน (อย่างน้อย 2 x หน่วยความจำที่จำเป็นสำหรับการรีเฟรชทั้งหมดที่จำเป็นต้องมี)
- ตรรกะ Power Query ที่ไม่มีประสิทธิภาพอาจส่งผลให้อัตราการใช้งานหน่วยความจำเพิ่มขึ้นอย่างรวดเร็วทันทีทันใดในระหว่างการรีเฟรชชุดข้อมูล บนจุว่าง ที่เก็บชั่วคราวนี้สามารถบางครั้งถึงจริงขีดจำกัด การรีเฟรชล้มเหลว และอาจมีผลต่อการดำเนินการมุมมองรายงานอื่น ๆ บนกำลังการผลิต
- สอบถามบ่อยชุดข้อมูลที่จำเป็นต้องอยู่ในหน่วยความจำอาจส่งผลต่อความสามารถของชุดข้อมูลอื่น ๆ เพื่อรีเฟรชเนื่องจากข้อจำกัดหน่วยความจำที่พร้อมใช้งาน

เพื่อช่วยตรวจสอบ ผู้ดูแลระบบ Power BI สามารถค้นหา:

- หน่วยความจำที่พร้อมใช้งานในเวลาของข้อมูลรีเฟรชเมื่อหน่วยความจำที่พร้อมใช้งานคือ น้อยกว่า 2 x ขนาดของชุดข้อมูลถูกรีเฟรช
- ชุดข้อมูลไม่ถูกรีเฟรช และไม่ได้อยู่ในหน่วยความจำก่อนรีเฟรช เริ่มต้นเพื่อแสดงปริมาณการใช้งานแบบโต้ตอบระหว่างเวลารีเฟรชหนา เมื่อต้องการดูชุดข้อมูลที่จะโหลดลงในหน่วยความจำในเวลา ผู้ดูแล Power BI สามารถดูพื้นที่ชุดข้อมูลของ**ชุดข้อมูล**แท็บในแอปได้ ผู้ดูแลระบบสามารถข้ามตัวกรองกับช่วงเวลาที่กำหนด โดยคลิกที่แท่งในหนึ่งแล้วการ**ชั่วโมงโหลดชุดข้อมูลนับ**ได้ แบบภายในที่เก็บชั่วคราว แสดงในรูปด้านล่าง ระบุชั่วโมงเมื่อหลายชุดข้อมูลถูกโหลดลงในหน่วยความจำ ซึ่งสามารถหน่วงเวลาเริ่มต้นของการรีเฟรชตามกำหนดการ
- ชุดข้อมูลที่เพิ่มขึ้นจัดทำวางเมื่อรีเฟรชข้อมูลถูกจัดกำหนดการเพื่อเริ่มต้น จัดสามารถระบุมีหน่วยสูงเกิดขึ้น โดยให้บริการการรายงานแบบโต้ตอบต่าง ๆ ไม่ต้องการมากเกินไปไม่ก่อนเวลาของการรีเฟรช วิชวล**การลดสัดส่วนข้อมูลต่อชั่วโมงและปริมาณการใช้หน่วยความจำ** สามารถระบุอัตราการลดสัดส่วนที่เพิ่มขึ้นอย่างรวดเร็วทันทีทันใดได้อย่างชัดเจน

รูปต่อไปนี้แสดงการเพิ่มขึ้นภายในในชุดข้อมูลที่โหลด ซึ่งบ่งบอกว่าการคิวรีแบบโต้ตอบจะเริ่มต้นการรีเฟรชช้า การเลือกระยะเวลาในวิชวล**จำนวนชุดข้อมูลที่โหลดต่อชั่วโมง**จะกรองข้ามวิชวล**ขนาดของชุดข้อมูล**

![รูปต่อไปนี้แสดงอัตราการเพิ่มขึ้นอย่างรวดเร็วทันทีทันใดภายในในชุดข้อมูลที่โหลด ซึ่งบ่งบอกว่าการคิวรีแบบโต้ตอบจะเริ่มต้นการรีเฟรชช้า](media/service-premium-capacity-scenarios/hourly-loaded-dataset-counts.png)

ผู้ดูแลระบบ Power BI อาจจะพยายามแก้ไขปัญหาโดยทำตามขั้นตอนเพื่อให้แน่ใจว่ามีหน่วยความจำเพียงพอสำหรับการรีเฟรชข้อมูลที่จะเริ่มต้นโดย:

- ชุดข้อมูลที่ติดต่อเจ้าของและขอให้พวกเขาเพื่อจัดสลับ และช่องว่างออกข้อมูลการรีเฟรชกำหนดการ
- ลดชุดข้อมูลการโหลดคิวรี โดยการลบแดชบอร์ดไม่จำเป็นหรือแดชบอร์ดไทล์ โดยเฉพาะอย่างยิ่งที่เสริมความปลอดภัยระดับแถว
- เพิ่มความเร็วในการรีเฟรชข้อมูลตามตรรกะ Power Query ที่ปรับให้เหมาะสม ปรับปรุงแบบจำลองตารางหรือคอลัมน์จากการคำนวณ ลดขนาดชุดข้อมูล หรือกำหนดค่าชุดข้อมูลขนาดใหญ่เพื่อดำเนินการรีเฟรชข้อมูลแบบเพิ่มหน่วย

## <a name="identifying-slow-responding-datasets"></a>ระบุช้าแบบตอบสนองต่อชุดข้อมูล

ในสถานการณ์นี้ ตรวจสอบการเริ่มต้นเมื่อผู้ใช้ complained ว่า รายงานบางนานเกินไปเมื่อต้องเปิด และในบางครั้งจะวาง

ในแอป ผู้ดูแลระบบ Power BI สามารถใช้วิชวล**ระยะเวลาคิวรี**เพื่อระบุชุดข้อมูลแย่ที่สุด โดยเรียงลำดับชุดข้อมูลตาม**ระยะเวลาเฉลี่ย**จากมากไปหาน้อย วิชวลนี้ยังแสดงจำนวนคิวรีของชุดข้อมูล ดังนั้นคุณสามารถดูความถี่ของการคิวรีชุดข้อมูลได้

![ชุดข้อมูลที่แย่ที่สุด](media/service-premium-capacity-scenarios/worst-performing-datasets.png)

ผู้ดูแลระบบสามารถดู**แจกจ่ายระยะเวลาแบบสอบถาม**ภาพ ซึ่งแสดงการแจกแจงโดยรวมของประสิทธิภาพคิวรีจัดกลุ่ม (< = 30ms, 0 100ms) สำหรับช่วงเวลาที่กรองแล้วได้ โดยทั่วไปแล้ว คิวรีที่ใช้เวลาหนึ่งวินาทีหรือน้อยกว่าจะถือเป็นการตอบสนองของผู้ใช้ส่วนใหญ่ แต่คิวรีที่ใช้เวลานานขึ้นทำให้เกิดการรับรู้ประสิทธิภาพที่ไม่ดี

วิชวล**การกระจายระยะเวลาคิวรีต่อชั่วโมง**ช่วยให้ผู้ดูแลระบบ Power BI สามารถระบุช่วงเวลาหนึ่งชั่วโมงเมื่อประสิทธิภาพการทำงานของความจุอาจถูกมองว่าไม่ดี ยิ่งกลุ่มแถบมีขนาดใหญ่ขึ้นซึ่งแสดงถึงระยะเวลาคิวรีมากกว่าหนึ่งวินาที ยิ่งมีความเสียงว่าผู้ใช้จะรับรู้ประสิทธิภาพที่แย่ลง

วิชวลเป็นแบบโต้ตอบ และเมื่อเลือกกลุ่มของแถบ วิชวลตาราง**ระยะเวลาคิวรี**ที่สอดคล้องกันบนหน้ารายงานจะถูกกรองข้ามเพื่อแสดงชุดข้อมูลที่วิชวลแสดง การกรองข้ามช่วยให้ผู้ดูแลระบบ Power BI สามารถระบุชุดข้อมูลที่ตอบสนองช้าได้อย่างง่ายดาย

รูปต่อไปนี้แสดงวิชวลที่กรองตาม**การกระจายระยะเวลาคิวรีต่อชั่วโมง** โดยเน้นชุดข้อมูลที่มีประสิทธิภาพแย่ลงในบักเก็ตหนึ่งชั่วโมง 

![วิชวลการกระจายระยะเวลาคิวรีต่อชั่วโมงที่กรองแล้วจะแสดงชุดข้อมูลที่มีประสิทธิภาพแย่ลง](media/service-premium-capacity-scenarios/hourly-query-duration-distributions.png)

เมื่อชุดข้อมูลดำเนินการไม่ดีในช่วงเวลาหนึ่งชั่วโมงที่เฉพาะเจาะจงจะถูกระบุ ผู้ดูแลระบบ Power BI สามารถตรวจสอบว่า ประสิทธิภาพการทำงานแย่เกิดจากความจุที่โอเวอร์โหลด หรือเนื่องจากเป็นงานได้ไม่ดีออกแบบชุดข้อมูลหรือรายงาน พวกเขาสามารถดู**เวลารอคิวรี**visual และชุดข้อมูลเรียงลำดับจากมากไปน้อยเวลารอคิวโดยเฉลี่ยได้ ถ้าเปอร์เซ็นต์ขนาดใหญ่ของแบบสอบถามกำลังรอ ความต้องการสูงสำหรับชุดข้อมูลเป็นอาจสาเหตุของการรอคิวรีมากเกินไป ถ้าเวลารอคิวโดยเฉลี่ย คือจำนวนมาก (> 100 ms), อาจคุ้มค่าที่จะตรวจทานชุดข้อมูลและรายงานเพื่อดูถ้าปรับให้เหมาะสมสามารถทำได้ ตัวอย่าง ภาพน้อยลงบนรับหน้ารายงานหรือการปรับให้เหมาะสมนิพจน์ DAX

![วิชวลเวลารอคิวรีช่วยเปิดเผยชุดข้อมูลที่มีประสิทธิภาพต่ำ](media/service-premium-capacity-scenarios/query-wait-times.png)

มีหลายสาเหตุที่เป็นไปได้สำหรับความเวลารอคิวรีในชุดข้อมูล:

- แบบจำลองสภาพ นิพจน์หน่วยวัด หรือแม้แต่การออก แบบรายงาน - สถานการณ์ทั้งหมดที่สามารถมีส่วนร่วมยาวเรียกใช้คิวรีที่ใช้ CPU ระดับสูง ซึ่งบังคับให้คิวรีใหม่ต้องรอจนกว่าเธรด CPU จะพร้อมใช้งานและสามารถสร้างเอฟเฟ็กต์การป้องกัน (เหมือนกับการจราจรติดขัด) ซึ่งมักพบได้ในช่วงเวลาทำการสูงสุด หน้า**การรอคิวรี**จะเป็นทรัพยากรหลักที่จะตรวจสอบว่าชุดข้อมูลมีเวลารอคิวรีโดยเฉลี่ยสูงหรือไม่
- จำนวนผู้ใช้งานความจุพร้อมกันสูง (หลายร้อยถึงหลายพัน) ซึ่งใช้รายงานหรือชุดข้อมูลเดียวกัน แม้แต่ชุดข้อมูลที่ออกแบบมาอย่างดีก็อาจทำงานได้ไม่ดีหากเกินค่าเกณฑ์กระบวนการการทำงานพร้อมกัน ซึ่งปกติจะถูกระบุ โดยชุดข้อมูลเดียวที่แสดงค่าสูงกว่าเป็นอย่างมากสำหรับแบบสอบถามนับกว่าแสดงชุดข้อมูลอื่น ๆ (ตัวอย่าง 300 K คิวรีสำหรับชุดข้อมูลหนึ่งเมื่อเทียบกับ < 30K แบบสอบถามสำหรับชุดข้อมูลอื่น ๆ ทั้งหมด) ในบางจุดรอคิวรีสำหรับชุดข้อมูลนี้จะเริ่มจัดสลับ ซึ่งสามารถดูได้ในการ**ระยะเวลาแบบสอบถาม**ภาพ
- ชุดข้อมูลที่แตกต่างกันจำนวนมากที่คิวรีพร้อมกันทำให้เกิดการแธรชชิ่งเนื่องจากชุดข้อมูลมักจะวนเข้าและออกจากหน่วยความจำ ซึ่งส่งผลให้ผู้ใช้ประสบปัญหาประสิทธิภาพการทำงานช้าเมื่อโหลดชุดข้อมูลลงในหน่วยความจำ เมื่อต้องยืนยัน ผู้ดูแลระบบ Power BI สามารถดู**จัดชุดข้อมูลต่อชั่วโมงและปริมาณการใช้หน่วยความจำ**ภาพ ซึ่งอาจระบุว่า ชุดข้อมูลจำนวนสูงสุดโหลดลงในหน่วยความจำจะทำซ้ำ evict ได้

## <a name="identifying-causes-for-sporadically-slow-responding-datasets"></a>ระบุสาเหตุสำหรับ sporadically ช้าแบบตอบสนองต่อชุดข้อมูล

ในสถานการณ์นี้ การตรวจสอบการเริ่มต้นเมื่อผู้ใช้ที่อธิบายไว้ว่า วิชวลในรายงานได้ช้าเพื่อตอบสนอง หรืออาจจะไม่ตอบสนองในบางครั้ง แต่ในบางครั้ง ที่พวกเขาไม่ตอบสนองใช้

ภายในแอป ส่วน**ระยะเวลาคิวรี**ถูกนำมาใช้เพื่อค้นหาชุดข้อมูลที่เป็นสาเหตุในวิธีต่อไปนี้:

- ในวิชวล**ระยะเวลาคิวรี** ผู้ดูแลระบบจะกรองชุดข้อมูลโดยชุดข้อมูล (เริ่มต้นจากชุดข้อมูลด้านบนที่คิวรีแล้ว) และตรวจสอบแถบที่กรองข้ามในวิชวล**การกระจายคิวรีต่อชั่วโมง**
- เมื่อแถบหนึ่งชั่วโมงเดียวแสดงเปลี่ยนแปลงที่สำคัญในอัตราส่วนระหว่างกลุ่มระยะเวลาแบบสอบถามทั้งหมดและอื่น ๆ แถบหนึ่งชั่วโมงสำหรับชุดข้อมูลนั้น (ตัวอย่าง อัตราส่วนระหว่างสีเปลี่ยนแปลงอย่างรวดเร็ว), นั่นหมายความว่า มีการเปลี่ยนแปลงในการสาธิตชุดข้อมูลนี้ ประสิทธิภาพการทำงาน
- แถบเวลาหนึ่งชั่วโมง ซึ่งแสดงส่วนของคิวรีที่มีประสิทธิภาพต่ำผิดปกติซึ่งระบุช่วงเวลาที่ชุดข้อมูลนั้นได้รับผลกระทบจากเอฟเฟ็กต์ Noisy Neighbor ซึ่งเกิดจากกิจกรรมของชุดข้อมูลอื่น

ภาพด้านล่างแสดงระยะเวลาหนึ่งชั่วโมงในวันที่ 30 มกราคม ซึ่งเกิดความล้มเหลวอย่างมีนัยสำคัญในประสิทธิภาพของชุดข้อมูลที่ระบุโดยขนาดของบักเก็ตระยะเวลาการเรียกใช้งาน "(3,10s)" คลิกที่แถบหนึ่งชั่วโมงที่แสดงทั้งหมดชุดข้อมูลที่โหลดลงในหน่วยความจำในระหว่างที่เวลา แสดงชุดข้อมูลที่สามารถทำให้เกิดผลเพื่อนบ้านเสียงดังรบกวน

![แถบที่แสดงประสิทธิภาพการทำงานแย่ที่สุดโดยส่วนใหญ่](media/service-premium-capacity-scenarios/worst-performing-queries.png)

เมื่อช่วงเวลาปัญหาจะถูกระบุ (ตัวอย่าง ระหว่าง 30 ม.ค.ในรูปด้านบน) ผู้ดูแลระบบ Power BI สามารถเอาตัวกรองชุดข้อมูลทั้งหมด นั้นกรองตามช่วงเวลานั้นเพื่อกำหนดชุดข้อมูลใดถูกกำลังสอบถามในช่วงเวลานี้เท่านั้น ชุดข้อมูลเป็นสาเหตุสำหรับเอฟเฟ็กต์เสียงดังรบกวนเพื่อนบ้านมักชุดข้อมูลการสอบถามยอดนิยมหรือที่ มีระยะเวลาเฉลี่ยแบบสอบถามนานที่สุด

วิธีการแก้ไขปัญหานี้อาจเป็นการกระจายชุดข้อมูลที่เป็นสาเหตุผ่านพื้นที่ทำงานที่แตกต่างกันในความจุแบบพรีเมียมที่แตกต่างกัน หรือในความจุที่ใช้ร่วมกันถ้าขนาดของชุดข้อมูล ข้อกำหนดการใช้งาน และรูปแบบการรีเฟรชข้อมูลได้รับการสนับสนุน

การย้อนกลับอาจเป็นจริงเช่นกัน ผู้ดูแลระบบ Power BI สามารถระบุเวลาที่ประสิทธิภาพการคิวรีของชุดข้อมูลดีขึ้นเป็นอย่างมากแล้วมองหาสิ่งที่หายไป ถ้าข้อมูลบางอย่างหายไปที่จุดนั้น อาจเป็นการช่วยบ่งชี้ปัญหาที่เกิดขึ้น

## <a name="determining-whether-there-is-enough-memory"></a>ตรวจสอบว่า มีหน่วยความจำเพียงพอ

เมื่อต้องการตรวจสอบว่าหน่วยความจำมีเพียงพอสำหรับที่จะรองรับความจุของปริมาณงานหรือไม่ ผู้ดูแลระบบ Power BI สามารถดูที่วิชวล**เปอร์เซ็นต์หน่วยความจำที่ใช้แล้ว**ในแท็บ**ชุดข้อมูล**ของแอปได้ หน่วยความ**ทั้งหมด** (รวม) แสดงหน่วยความจำที่ใช้โดยชุดข้อมูลที่โหลดลงในหน่วยความจำ โดยไม่คำนึงถึงว่าชุดข้อมูลเหล่านี้ถูกคิวรีหรือประมวลผลอย่างแข็งขันหรือไม่ หน่วยความจำ**ที่ใช้งานอยู่**แสดงหน่วยความจำที่ใช้โดยชุดข้อมูลที่กำลังถูกประมวลผลอย่างแข็งขัน

ในความจุที่สภาพพร้อมใช้งาน ภาพจะมีลักษณะดังนี้ แสดงช่องว่างระหว่างหน่วยความจำทั้งหมด (รวม) และหน่วยความจำที่ใช้งานอยู่:

![ความจุที่สภาพพร้อมใช้งานจะแสดงความแตกต่างระหว่างหน่วยความจำทั้งหมด (รวม) และหน่วยความจำที่ใช้งานอยู่](media/service-premium-capacity-scenarios/memory-healthy-capacity.png)

ในความจุประสบหน่วย วิชวลเดียวจะชัดเจนแสดงหน่วยความจำที่ใช้งานอยู่และหน่วยความจำทั้งหมดบรรจบ หมายความ ว่า คุณจะไม่สามารถโหลดชุดข้อมูลเพิ่มเติมลงในหน่วยความจำแล้ว ในกรณีนี้ ผู้ดูแลระบบ Power BI สามารถคลิก**รีสตาร์ทความจุ** (ใน**ตัวเลือกขั้นสูง**ของพื้นที่การตั้งค่าความจุของพอร์ทัลผู้ดูแลระบบ) ได้ การรีสตาร์ทความจุจะส่งผลให้ชุดข้อมูลทั้งหมดถูกล้างออกจากหน่วยความจำและอนุญาตให้โหลดซ้ำลงในหน่วยความจำได้ตามต้องการ (โดยการคิวรีหรือการรีเฟรชข้อมูล)

![หน่วยความจำ **ที่ใช้งานอยู่** ซึ่งบรรจบกับหน่วยความจำ ** ทั้งหมด **](media/service-premium-capacity-scenarios/memory-unhealthy-capacity.png)

## <a name="determining-whether-there-is-enough-cpu"></a>ตรวจสอบว่า มีเพียงพอ CPU

โดยทั่วไป การใช้งาน CPU โดยเฉลี่ยของความจุควรต่ำกว่า 80% การใช้งานเกินค่านี้หมายความว่าความจุกำลังใกล้ถึงความอิ่มตัวของ CPU

ผลกระทบของความเข้มของ CPU จะแสดงตามการดำเนินการที่ใช้เวลานานกว่าที่พวกเขาควร เนื่องจากกำลังการผลิตที่ดำเนินการสวิตช์บริบท CPU จำนวนมากขณะพยายามดำเนินการดำเนินการทั้งหมด ในความจุ Premium กับคิวรีพร้อมกันจำนวนมาก ซึ่งบ่งชี้ ด้วยเวลารอคิวรีสูง ผลที่ตามมาจากเวลารอคิวรีสูงคือการตอบสนองช้าลงกว่าปกติ ผู้ดูแลระบบ Power BI สามารถระบุได้อย่างง่ายดายเมื่อ CPU มีความอิ่มตัวแล้วโดยดูที่วิชวล**การกระจายเวลารอคิวรีต่อชั่วโมง**้ จำนวนเวลารอคิวรีที่ถึงระดับสูงสุดเป็นระยะ ๆ แสดงถึงความอิ่มตัวของ CPU ที่อาจเกิดขึ้น

![จำนวนเวลารอคิวรีที่ถึงระดับสูงสุดเป็นระยะ ๆ แสดงถึงความอิ่มตัวของ CPU ที่อาจเกิดขึ้น](media/service-premium-capacity-scenarios/peak-query-wait-times.png)

ในบางครั้งสามารถตรวจหารูปแบบที่คล้ายกันได้ในการทำงานแบบเบื้องหลังหากการทำงานเหล่านั้นมีส่วนทำให้เกิดความอิ่มต้วของ CPU ผู้ดูแล Power BI สามารถค้นหาชั่วคราวในเวลารีเฟรชสำหรับเฉพาะชุดข้อมูล ซึ่งสามารถระบุความเข้ม CPU ในเวลา (อาจเนื่องจากอื่น ๆ รีเฟรชชุดข้อมูลอย่างต่อเนื่องและ/หรือคิวรีแบบโต้ตอบ) ในอินสแตนซ์นี้ การอ้างอิงไปยังมุมมอง**ระบบ**ในแอปอาจไม่จำเป็นต้องแสดงว่า CPU อยู่ในระดับ 100% มุมมอง**ระบบ**แสดงค่าเฉลี่ยต่อชั่วโมง แต่ CPU อาจจะอิ่มตัวเป็นเวลาหลายนาทีจากการทำงานหนัก ซึ่งแสดงเป็นอัตราเวลารอที่เพิ่มขึ้นอย่างรวดเร็วทันทีทันใด

มีรายละเอียดปลีกย่อยเพิ่มเติมในการดูผลกระทบจากความอิ่มตัวของ CPU ในขณะที่จำนวนคิวรีที่รอเป็นสิ่งสำคัญ แต่เวลารอคิวรีจะเกิดขึ้นในระดับหนึ่งเสมอโดยไม่ทำให้ประสิทธิภาพการทำงานลดลง ชุดข้อมูลบางชุด (ที่มีเวลาคิวรีโดยเฉลี่ยที่ยาวกว่า แสดงถึงความซับซ้อนหรือขนาด) มีแนวโน้มที่จะทำให้เกิดความอิ่มตัวของ CPU มากกว่าชุดอื่น หากต้องการระบุชุดข้อมูลเหล่านี้ได้อย่างง่ายดาย ผู้ดูแลระบบ Power BI สามารถดูการเปลี่ยนแปลงในส่วนประกอบสีของแถบในวิชวล**การกระจายเวลารอต่อชั่วโมง** หลังจากตรวจพบแถบค่าผิดปกติ ผู้ดูแลระบบสามารถค้นหาชุดข้อมูลที่มีการรอคิวรีอยู่ในช่วงเวลานั้น และดูเวลารอคิวรีโดยฉลี่ยโดยเปรียบเทียบกับระยะเวลาคิวรีโดยเฉลี่ย ทเมื่อทั้งสองเมตริกมีขนาดเท่ากันและปริมาณงานของคิวรีสำหรับชุดข้อมูลนั้นมีความสำคัญ อาจเป็นไปได้ว่าชุดข้อมูลนั้นได้รับผลกระทบจาก CPU ไม่เพียงพอ

เอฟเฟ็กต์นี้สามารถมองโดยเฉพาะเมื่อชุดข้อมูลจะถูกใช้ใน bursts สั้น ๆ ของแบบสอบถามความถี่สูงโดยผู้ใช้หลายคน (ตัวอย่าง ในการฝึกอบรม), เกิดความเข้ม CPU ระหว่างแต่ละ burst ในกรณีนี้ เวลารอคิวรีที่สำคัญในชุดข้อมูลนี้อาจได้รับผลกระทบ รวมถึงมีผลกระทบต่อชุดข้อมูลอื่น ๆ ในความจุ (เอฟเฟ็กต์ Noisy Neighbor)

ในบางกรณี ผู้ดูแลระบบ Power BI สามารถขอให้เจ้าของชุดข้อมูลสร้างปริมาณงานของคิวรีที่มีความผันผวนน้อยลงโดยการสร้างแดชบอร์ด (ซึ่งจะทำการคิวรีเป็นระยะ ๆ กับการรีเฟรชชุดข้อมูลใด ๆ สำหรับไทล์ที่แคช) แทนรายงาน ซึ่งสามารถช่วยป้องกันอัตราการเพิ่มขึ้นอย่างรวดเร็วทันทีทันใดเมื่อโหลดแดชบอร์ด โซลูชันนี้อาจไม่สามารถทำได้สำหรับความต้องการทางธุรกิจที่กำหนดไว้ อย่างไรก็ตามอาจเป็นวิธีที่มีประสิทธิภาพในการหลีกเลี่ยงความอิ่มตัวของ CPU โดยไม่มีการเปลี่ยนแปลงชุดข้อมูล

## <a name="acknowledgements"></a>ดูล

บทความนี้ถูกเขียน โดย Peter Myers, MVP แพลตฟอร์มข้อมูล และผู้เชี่ยวชาญ BI อิสระด้วย[โซลูชันแบบ Bitwise](https://www.bitwisesolutions.com.au/)

## <a name="next-steps"></a>ขั้นตอนถัดไป

> [!div class="nextstepaction"]
> [ตรวจสอบความจุ Premium ด้วยแอป](service-admin-premium-monitor-capacity.md)    
> [!div class="nextstepaction"]
> [ตรวจสอบความจุในพอร์ทัลผู้ดูแลระบบ](service-admin-premium-monitor-portal.md)   

มีคำถามเพิ่มเติมหรือไม่? [ลองถามชุมชน Power BI](https://community.powerbi.com/)

||||||