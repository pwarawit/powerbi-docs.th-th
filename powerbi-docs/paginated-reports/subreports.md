---
title: รายงานย่อยในรายงานที่มีการแบ่งหน้าของ Power BI
description: ในบทความนี้ คุณจะได้เรียนรู้เกี่ยวกับแหล่งข้อมูลที่ได้รับการสนับสนุนสำหรับรายงานที่มีการแบ่งหน้าในบริการของ Power BI และวิธีการเชื่อมต่อกับแหล่งข้อมูล Azure SQL Database
author: maggiesMSFT
ms.author: maggies
ms.reviewer: ''
ms.service: powerbi
ms.subservice: report-builder
ms.topic: how-to
ms.date: 04/29/2020
ms.openlocfilehash: 9ced88289b2170d503a8394d5b83175659178e85
ms.sourcegitcommit: eef4eee24695570ae3186b4d8d99660df16bf54c
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/23/2020
ms.locfileid: "85239586"
---
# <a name="subreports-in-power-bi-paginated-reports"></a>รายงานย่อยในรายงานที่มีการแบ่งหน้าของ Power BI

*รายงานย่อย*เป็นรายการรายงานแบบแบ่งหน้าที่แสดงรายงานแบบแบ่งหน้าอื่นภายในเนื้อความของรายงานหลักที่มีการแบ่งหน้า ตามแนวคิดแล้ว รายงานย่อยในรายงานนั้นคล้ายกับเฟรมในเว็บเพจ ซึ่งคุณใช้เพื่อฝังรายงานภายในรายงาน คุณสามารถใช้รายงานใด ๆ เป็นรายงานย่อยก็ได้ คุณจัดเก็บรายงานที่แสดงเป็นรายงานย่อยในพื้นที่ทำงานพรีเมี่ยมเดียวกับรายงานหลัก คุณสามารถออกแบบรายงานหลักเพื่อส่งผ่านพารามิเตอร์ไปยังรายงานย่อยได้ รายงานย่อยสามารถทำซ้ำภายในขอบเขตข้อมูล โดยใช้พารามิเตอร์เพื่อกรองข้อมูลในแต่ละอินสแตนซ์ของรายงานย่อย  
  
 ![รายงานย่อยในรายงานที่มีการแบ่งหน้า](media/subreports/paginated-report-subreport.png "รายงานย่อยสำหรับรายงานที่มีการแบ่งหน้า")  
  
 ในภาพประกอบนี้ ข้อมูลผู้ติดต่อที่แสดงในรายงานคำสั่งขายหลักมาจากรายงานย่อยของผู้ติดต่อ  
  
คุณสร้างและแก้ไขไฟล์คำจำกัดความของรายงานที่มีการแบ่งหน้า (.rdl) ใน Power BI Report Builder คุณสามารถอัปโหลดรายงานย่อยที่จัดเก็บใน SQL Server Reporting Services ไปยังพื้นที่ทำงานแบบพรีเมียมในบริการของ Power BI ได้ รายงานหลักและรายงานย่อยจะต้องเผยแพร่ไปยังพื้นที่ทำงานเดียวกัน ติดตั้ง [Power BI Report Builder](https://aka.ms/pbireportbuilder)
  
## <a name="work-with-report-builder-and-the-power-bi-service"></a>ทำงานด้วยตัวสร้างรายงานและบริการของ Power BI

Power BI Report Builder สามารถทำงานกับรายงานที่มีการแบ่งหน้าบนคอมพิวเตอร์ของคุณ (ซึ่งเรียกว่ารายงานภายในเครื่อง) หรือรายงานบนบริการของ Power BI ได้  เมื่อคุณเปิดตัวสร้างรายงานเป็นครั้งแรก ระบบจะขอให้คุณลงชื่อเข้าใช้บัญชี Power BI ของคุณ หากไม่มีการร้องขอดังกล่าว ให้เลือก **ลงชื่อเข้าใช้** ที่มุมขวาบน

:::image type="content" source="media/subreports/report-builder-sign-in.png" alt-text="ลงชื่อเข้าใช้ Power BI":::

หลังจากลงชื่อเข้าใช้แล้ว คุณจะเห็นตัวเลือก**บริการของ Power BI** ใน Power BI Report Builder สำหรับตัวเลือก **เปิด** และ **บันทึกเป็น** ในเมนู **ไฟล์** เมื่อคุณเลือกตัวเลือก **บริการของ Power BI** เพื่อบันทึกรายงาน คุณสามารถสร้างการเชื่อมต่อแบบสดระหว่าง Power BI Report Builder และบริการของ Power BI ได้ 

:::image type="content" source="media/subreports/report-builder-subreport-open-service.png" alt-text="เปิดจากบริการของ Power BI":::

## <a name="save-a-local-report-to-the-power-bi-service"></a>บันทึกรายงานภายในเครื่องไปยังบริการของ Power BI

ก่อนที่คุณจะสามารถเพิ่มรายงานย่อยไปยังรายงานหลักได้ ก่อนอื่นให้สร้างรายงานสองรายการและบันทึกไปยังพื้นที่ทำงาน Power BI Premium เดียวกัน 

1. หากต้องการเปิดรายงานภายในเครื่องที่มีอยู่ บนเมนู**ไฟล์** ให้เลือก **เปิด** > **พีซีเครื่องนี้** และเลือกไฟล์ .rdl  

2. บนเมนู**ไฟล์** ให้เลือก**บันทึกเป็น** > **บริการของ Power BI**  ดูรายละเอียดที่ [เผยแพร่รายงานแบบแบ่งหน้าไปยังบริการของ Power BI](paginated-reports-save-to-power-bi-service.md)

    > [!NOTE]
    > คุณยังสามารถอัปโหลดรายงานได้โดยการเริ่มต้นใช้งานบริการของ Power BI ดูรายละเอียดในบทความเดียวกันของหัวข้อ [เผยแพร่รายงานแบบแบ่งหน้าไปยังบริการของ Power BI](paginated-reports-save-to-power-bi-service.md)

3. ในกล่องโต้ตอบ **บันทึกเป็น** ให้เลือกพื้นที่ทำงานของ Power BI Premium ซึ่งคุณสามารถจัดเก็บรายงานที่มีการแบ่งหน้าของคุณได้  พื้นที่ทำงานพรีเมียมมีไอคอนรูปข้าวหลามตัด![ไอคอนรูปข้าวหลามตัดพรีเมียม](media/subreports/report-builder-premium-diamond.png)อยู่ถัดจากชื่อของพื้นที่ทำงานดังกล่าว

    :::image type="content" source="media/subreports/report-builder-subreport-save-as-service.png" alt-text="บันทึกไปยังบริการของ Power BI":::

4. เลือก**บันทึก**

## <a name="add-a-subreport-to-a-report"></a>เพิ่มรายงานย่อยไปยังรายงาน

หลังจากที่คุณได้บันทึกรายงานทั้งสองรายการไปยังพื้นที่ทำงานพรีเมียมเดียวกันแล้ว คุณสามารถเพิ่มหนึ่งรายการไปยังในรายงานย่อยอื่น ๆ ได้ การเพิ่มรายงานย่อยมีสองวิธี 

1. บนแถบริบบอน **แทรก** ให้เลือกปุ่ม **รายงานย่อย** หรือคลิกขวาที่พื้นที่ทำงานสำหรับรายงานและเลือก **แทรก** > **รายงานย่อย**

    :::image type="content" source="media/subreports/report-builder-insert-subreport.png" alt-text="แทรกรายงานย่อยในรายงาน":::

    กล่องโต้ตอบ**คุณสมบัตรายงานย่อย**จะเปิดขึ้น  

2. เลือกปุ่ม**เรียกดู** > นำทางไปยังรายงานที่คุณต้องการใช้เป็นรายงานย่อย > ระบุชื่อของรายงานย่อยในกล่องข้อความ**ชื่อ**

3. กำหนดค่าคุณสมบัติอื่น ๆ ตามความจำเป็น รวมถึง[พารามิเตอร์](#use-parameters-in-subreports)

## <a name="use-parameters-in-subreports"></a>ใช้พารามิเตอร์ในรายงานย่อย  
 หากต้องการส่งผ่านพารามิเตอร์จากรายงานหลักไปยังรายงานย่อย ให้กำหนดพารามิเตอร์รายงานในรายงานที่คุณใช้เป็นรายงานย่อย เมื่อคุณวางรายงานย่อยในรายงานหลัก คุณสามารถเลือกพารามิเตอร์รายงานและค่าที่จะส่งผ่านจากรายงานหลักไปยังพารามิเตอร์รายงานในรายงานย่อย  
  
> [!NOTE]  
> พารามิเตอร์ที่คุณเลือกจากรายงานย่อยคือพารามิเตอร์*รายงาน* ไม่ใช่พารามิเตอร์*การสอบถาม*  
  
 คุณสามารถวางรายงานย่อยในเนื้อความหลักของรายงานหรือในขอบเขตข้อมูลได้ หากคุณวางรายงานย่อยในขอบเขตข้อมูล รายงานย่อยจะทำซ้ำแต่ละอินสแตนซ์ของกลุ่มหรือแถวในขอบเขตข้อมูล คุณสามารถส่งผ่านค่าจากกลุ่มหรือแถวไปยังรายงานย่อยได้ ในคุณสมบัติค่ารายงานย่อย ให้ใช้นิพจน์เขตข้อมูลสำหรับเขตข้อมูลที่ประกอบด้วยค่าที่คุณต้องการส่งผ่านไปยังพารามิเตอร์รายงานย่อย  
  
 สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการทำงานกับพารามิเตอร์และรายงานย่อย โปรดดูที่ [เพิ่มรายงานย่อยและพารามิเตอร์](https://docs.microsoft.com/sql/reporting-services/report-design/add-a-subreport-and-parameters-report-builder-and-ssrs) ในเอกสาร SQL Server Reporting Services  

## <a name="preview-paginated-reports-in-report-builder"></a>แสดงตัวอย่างรายงานที่มีการแบ่งหน้าในตัวสร้างรายงาน

คุณสามารถดูตัวอย่างรายงานของคุณได้ใน Report Builder

- บนแถบริบบอน**หน้าแรก** เลือก**ใช้งาน** 

เนื่องจากตัวสร้างรายงานคือเครื่องมือออกแบบ การแสดงตัวอย่างรายงานอาจดูแตกต่างจากการแสดงรายงานในบริการของ Power BI

### <a name="notes-about-previewing"></a>หมายเหตุเกี่ยวกับการแสดงตัวอย่าง

- Report Builder ไม่จัดเก็บข้อมูลประจำตัวสำหรับแหล่งข้อมูลที่ใช้ในรายงาน  Report Builder ขอให้คุณใส่ข้อมูลประจำตัวแต่ละชุดระหว่างการแสดงตัวอย่าง  
- หากแหล่งข้อมูลสำหรับรายงานอยู่ภายในองค์กร คุณจำเป็นต้องกำหนดค่าเกตเวย์หลังจากบันทึกรายงานไปยังพื้นที่ทำงานของ Power BI
- หาก Report Builder พบข้อผิดพลาดระหว่างการแสดงตัวอย่าง ตัวสร้างรายงานนั้นจะส่งกลับข้อความทั่วไป  หากข้อผิดพลาดนั้นยากต่อการแก้ไขจุดบกพร่อง ให้พิจารณาการแสดงรายงานในบริการของ Power BI  

## <a name="considerations"></a>ข้อควรพิจารณา

### <a name="maintaining-the-connection"></a>การรักษาการเชื่อมต่อ

ตัวสร้างรายงานจะตัดการเชื่อมต่อกับ Power BI เมื่อคุณปิดไฟล์  ผู้ใช้สามารถทำงานกับรายงานหลักภายในเครื่องซึ่งมีรายงานย่อยจัดเก็บอยู่ในพื้นที่ทำงานของ Power BI ได้ ตรวจสอบให้แน่ใจว่าได้บันทึกรายงานหลักไปยังพื้นที่ทำงานของ Power BI แล้วก่อนที่จะปิดรายงาน  หากคุณยังไม่ดำเนินการ คุณอาจได้รับข้อความ 'ไม่พบ' ระหว่างการแสดงตัวอย่าง เนื่องจากไม่มีการเชื่อมต่อแบบสดกับบริการของ Power BI  ในกรณีดังกล่าว ให้ไปที่รายงานย่อยและเลือกคุณสมบัติ  เปิดรายงานย่อยจากบริการของ Power BI อีกครั้ง  การดำเนินการนี้จะสร้างการเชื่อมต่อใหม่ และควรปรับรายงานย่อยอื่น ๆ ทั้งหมดอย่างละเอียด

### <a name="renaming-a-subreport"></a>การเปลี่ยนชื่อรายงานย่อย

หากคุณเปลี่ยนชื่อรายงานย่อยในพื้นที่ทำงาน คุณต้องแก้ไขการอ้างอิงชื่อในรายงานหลัก มิฉะนั้นรายงานย่อยจะไม่แสดง รายงานหลักยังคงแสดงโดยมีข้อความแสดงข้อผิดพลาดอยู่ภายในรายการรายงานย่อย

## <a name="migrate-large-reports"></a>โยกย้ายรายงานจำนวนมาก

หากคุณกำลังโยกย้ายรายงานจำนวนมากไปยัง Power BI ให้พิจารณาการใช้เครื่องมือ [RdlMigration](../guidance/migrate-ssrs-reports-to-power-bi.md)  เครื่องมือ RdlMigration ได้รับการอัปเดตเพื่อจัดการชื่อรายงานย่อยที่ซ้ำกัน  ชื่อรายงานย่อยที่ซ้ำกันสามารถเกิดขึ้นได้เมื่อมีรายงานอย่างน้อยสองรายการที่ใช้ชื่อเดียวกัน แต่จัดเก็บอยู่ในไดเรกทอรีย่อยที่แตกต่างกัน  หากไม่ทำการแก้ไขชื่อให้แตกต่างกัน ระบบจะรับรู้เฉพาะรายงานย่อยรายการแรกเท่านั้น

หากคุณต้องการใช้ Report Builder เพื่อโยกย้ายรายงานจำนวนมาก เราขอแนะนำให้ทำงานกับรายงานย่อยก่อน บันทึกแต่ละรายการไปยังพื้นที่ทำงาน Power BI เพื่อป้องกันไม่ให้ชื่อรายงานซ้ำกัน

## <a name="share-reports-with-subreports"></a>แชร์รายงานกับรายงานย่อย

ตามที่เราได้ระบุไว้ รายงานหลักและรายงานย่อยต้องอยู่ในพื้นที่ทำงานเดียวกัน มิฉะนั้น รายงานย่อยจะไม่แสดง เมื่อมีการแชร์รายงานหลัก คุณจำเป็นต้องแชร์รายงานย่อยด้วย หากคุณแชร์รายงานหลักในแอป ตรวจสอบให้แน่ใจว่าคุณได้รวมรายงานย่อยในแอปดังกล่าวแล้ว หากคุณแชร์รายงานหลักกับผู้ใช้หรือกลุ่มผู้ใช้โดยตรง ตรวจสอบให้แน่ใจว่าคุณได้แชร์รายงานย่อยแต่ละรายการกับผู้ใช้หรือกลุ่มผู้ใช้ในชุดเดียวกัน
  
## <a name="next-steps"></a>ขั้นตอนถัดไป

[แก้ไขปัญหารายงานย่อยในรายงานที่มีการแบ่งหน้าของ Power BI](subreports-troubleshoot.md)

[ดูรายงานแบบแบ่งหน้าในบริการของ Power BI](../consumer/paginated-reports-view-power-bi-service.md)

มีคำถามเพิ่มเติมหรือไม่ [ลองไปที่ชุมชน Power BI](https://community.powerbi.com/)
