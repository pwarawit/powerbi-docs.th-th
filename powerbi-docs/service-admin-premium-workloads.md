---
title: วิธีการกำหนดค่าปริมาณงานใน Power BI Premium
description: เรียนรู้วิธีการกำหนดค่าปริมาณงานในกำลังการผลิตของ Power BI Premium
author: mgblythe
ms.author: mblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: conceptual
ms.date: 04/15/2019
LocalizationGroup: Premium
ms.openlocfilehash: 49a1f02e5aa327c2704b6c2d789934a43b760ad0
ms.sourcegitcommit: 0e50ebfa8762e19286566432870ef16d242ac78f
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/13/2019
ms.locfileid: "68962030"
---
# <a name="configure-workloads-in-a-premium-capacity"></a>กำหนดค่าปริมาณงานในกำลังการผลิตแบบ Premium

บทความนี้อธิบายเกี่ยวกับการเปิดใช้งาน และกำหนดปริมาณงานสำหรับกำลังการผลิตแบบ Power BI Premium ตามค่าเริ่มต้น กำลังการผลิตที่สนับสนุนเฉพาะปริมาณงานที่เชื่อมโยงกับการเรียกใช้คิวรี Power BI คุณยังสามารถเปิดการใช้งาน และกำหนดค่าปริมาณงานเพิ่มเติมสำหรับ **[AI (Cognitive Services)](service-cognitive-services.md)** **[กระแสข้อมูล](service-dataflows-overview.md#dataflow-capabilities-on-power-bi-premium)** และ **[รายงานที่มีการแบ่งหน้า](paginated-reports-save-to-power-bi-service.md)**

## <a name="default-memory-settings"></a>การตั้งค่าหน่วยความจำเริ่มต้น

ปริมาณงานคิวรีจะเหมาะสมและจำกัดตามทรัพยากรที่ขึ้นอยู่กับกำลังการผลิตของ SKU Premium ของคุณ นอกจากนี้ความจุพรีเมียมยังรองรับปริมาณงานเพิ่มเติมที่สามารถใช้ทรัพยากรของความจุได้อีกด้วย เริ่มต้นค่าหน่วยความจำสำหรับปริมาณงานเหล่านี้จะยึดโหนดความจุพร้อมใช้งานสำหรับ SKU ของคุณ ตั้งค่าหน่วยความจำสูงสุดไม่สะสม หน่วยความจำสูงสุดค่าสูงสุดที่ระบุเป็นการจัดสรรแบบไดนามิกสำหรับ AI และกระแสข้อมูล แต่ได้รับการจัดสรรแบบคงที่สำหรับรายงานที่มีการแบ่งหน้าแล้ว

### <a name="microsoft-office-skus-for-software-as-a-service-saas-scenarios"></a>Microsoft Office Sku สำหรับ software as a service (SaaS)

|                     | EM2                      | EM3                       | P1                      | P2                       | P3                       |
|---------------------|--------------------------|--------------------------|-------------------------|--------------------------|--------------------------|
| AI | N/A | N/A | ค่าเริ่มต้น 20% ค่าต่ำสุด 20% | ค่าเริ่มต้น 20% ค่าต่ำสุด 10% | ค่าเริ่มต้น 20% ค่าต่ำสุด 5% |
| กระแสข้อมูล | N/A |ค่าเริ่มต้น 20% ค่าต่ำสุด 12%  | ค่าเริ่มต้น 20% ค่าต่ำสุด 5%  | ค่าเริ่มต้น 20% ค่าต่ำสุด 3% | ค่าเริ่มต้น 20% ค่าต่ำสุด 2%  |
| รายงานที่มีการแบ่งหน้า | N/A |N/A | ค่าเริ่มต้น 20% ค่าต่ำสุด 10% | ค่าเริ่มต้น 20% ค่าต่ำสุด 5% | ค่าเริ่มต้น 20% ค่าต่ำสุด 2.5% |
| | | | | | |

### <a name="microsoft-azure-skus-for-platform-as-a-service-paas-scenarios"></a>Microsoft Sku Azure สำหรับ platform as a service (PaaS)

|                  | A1                       | A2                       | A3                      | A4                       | A5                      | A6                        |
|-------------------|--------------------------|--------------------------|-------------------------|--------------------------|-------------------------|---------------------------|
| AI | N/A                      | ค่าเริ่มต้น 20% ค่าต่ำสุด 100%                     | ค่าเริ่มต้น 20% ค่าต่ำสุด 50%                     | ค่าเริ่มต้น 20% ค่าต่ำสุด 20% | ค่าเริ่มต้น 20% ค่าต่ำสุด 10% | ค่าเริ่มต้น 20% ค่าต่ำสุด 5% |
| กระแสข้อมูล         | ค่าเริ่มต้น 40% ค่าต่ำสุด 40% | ค่าเริ่มต้น 24% ค่าต่ำสุด 24% | ค่าเริ่มต้น 20% ค่าต่ำสุด 12% | ค่าเริ่มต้น 20% ค่าต่ำสุด 5%  | ค่าเริ่มต้น 20% ค่าต่ำสุด 3% | ค่าเริ่มต้น 20% ค่าต่ำสุด 2%   |
| รายงานที่มีการแบ่งหน้า | N/A                      | N/A                      | N/A                     | ค่าเริ่มต้น 20% ค่าต่ำสุด 10% | ค่าเริ่มต้น 20% ค่าต่ำสุด 5% | ค่าเริ่มต้น 20% ค่าต่ำสุด 2.5% |
| | | | | | |

## <a name="workload-settings"></a>การตั้งค่าปริมาณงาน

### <a name="ai-preview"></a>AI (แสดงตัวอย่าง)

นอกเหนือจากการตั้งค่า **หน่วยความจำสูงสุด** แล้ว ปริมาณงาน AI ยังมีการตั้งค่าเพิ่มเติม **อนุญาตการใช้งานจาก Power BI Desktop** ค่าเริ่มต้นคือ **ปิด** การตั้งค่านี้สงวนไว้สำหรับการใช้งานในอนาคต และอาจไม่ปรากฏในผู้เช่าทั้งหมด

### <a name="datasets-preview"></a>ชุดข้อมูล (แสดงตัวอย่าง)

ตามค่าเริ่มต้นจะมีการเปิดใช้ปริมาณงานชุดข้อมูลและไม่สามารถปิดใช้งานได้ ปริมาณงานนี้ประกอบด้วยการตั้งค่าเพิ่มเติมสำหรับ _จุดสิ้นสุด XMLA_ และชุดของการตั้งค่าที่เกี่ยวข้องกับประสิทธิภาพการทำงาน การตั้งค่า **จุดสิ้นสุด XMLA** นี้ระบุว่าการเชื่อมต่อจากแอปพลิเคชันไคลเอ็นต์ให้เกียรติการเป็นสมาชิกกลุ่มการรักษาความปลอดภัยที่ตั้งค่า ณ ระดับพื้นที่ทำงานและระดับแอป เมื่อต้องการเรียนรู้เพิ่มเติม ดูที่[เชื่อมต่อกับชุดข้อมูลที่มีแอปพลิเคชันไคลเอ็นต์และเครื่องมือ](service-premium-connect-tools.md)

การตั้งค่าที่เกี่ยวข้องกับประสิทธิภาพการทำงานถูกอธิบายไว้ในตารางต่อไปนี้

| การตั้งค่าชื่อ | คำอธิบาย | การใช้งาน |
|---------------------------------|----------------------------------------|----------------------------------------|
| **จำนวนสูงสุดของแถวระดับกลาง** | จำนวนสูงสุดของแถวระดับกลางที่ส่งกลับโดย DirectQuery ค่าเริ่มต้นถูกตั้งค่าเป็น 1000000 และช่วงที่สามารถอนุญาตได้จะอยู่ระหว่าง 100000 และ 2147483647 | การควบคุมผลกระทบของรายงานที่ได้รับการออกแบบให้มีความเข้มข้นของทรัพยากรหรือรายงานที่ออกแบบได้แย่ |
| **ขนาดของชุดข้อมูลแบบออฟไลน์สูงสุด (GB)** | ขนาดสูงสุดของชุดข้อมูลแบบออฟไลน์ในหน่วยความจำ นี่คือ ขนาดที่บีบอัดบนดิสก์ ค่าเริ่มต้นถูกตั้งค่าโดย SKU และช่วงที่สามารถอนุญาตได้คือตั้งแต่ 0.1 – 10 GB | ป้องกันผู้สร้างรายงานจากการเผยแพร่ชุดข้อมูลขนาดใหญ่ที่อาจส่งผลกระทบเชิงลบต่อความจุ |
| **จำนวนสูงสุดของแถวผลลัพธ์** | กำหนดจำนวนแถวสูงสุดที่ส่งกลับในคิวรี DAX ค่าเริ่มต้นถูกตั้งค่าเป็น -1 (ไม่จำกัด) และช่วงที่สามารถอนุญาตได้จะอยู่ระหว่าง 100000 และ 2147483647 | การควบคุมผลกระทบของรายงานที่ได้รับการออกแบบให้มีความเข้มข้นของทรัพยากรหรือรายงานที่ออกแบบได้แย่ |
| **ขีดจำกัดหน่วยความจำคิวรี (%)** | ใช้เฉพาะกับหน่วยวัด DAX และคิวรีเท่านั้น ถูกระบุในรูป % และจำกัดว่าสามารถใช้หน่วยความจำโดยผลลัพธ์ชั่วคราวในระหว่างทำการคิวรีได้เป็นจำนวนเท่าใด | การควบคุมผลกระทบของรายงานที่ได้รับการออกแบบให้มีความเข้มข้นของทรัพยากรหรือรายงานที่ออกแบบได้แย่ |
| **หมดเวลารอคิวรี (วินาที)** | จำนวนเต็มที่กำหนดการหมดเวลารอสำหรับคิวรีหน่วยเป็นวินาที ค่าเริ่มต้นคือ 3600 วินาที (หรือ 60 นาที) ศูนย์ (0) ระบุว่าไม่มีคิวรีใดที่หมดเวลา | รักษาการควบคุมคิวรีที่เรียกใช้งานเป็นเวลานาน |
|  |  |  |

### <a name="dataflows"></a>กระแสข้อมูล

นอกเหนือจากการตั้งค่า **หน่วยความจำสูงสุด** แล้ว ปริมาณงานกระแสข้อมูลยังมีการตั้งค่าเพิ่มเติม **ขนาดคอนเทนเนอร์** การตั้งค่านี้จะช่วยให้คุณสามารถปรับปรุงประสิทธิภาพของปริมาณงานกระแสข้อมูลสำหรับการประมวลผลกระแสข้อมูลที่ซับซ้อนมากขึ้นและใช้การคำนวณที่หนักหน่วงให้มีความเหมาะสม

เมื่อทำการรีเฟรชกระแสข้อมูล ปริมาณงานกระแสข้อมูลจะให้กำเนิดคอนเทนเนอร์สำหรับแต่ละเอนทิตีในกระแสข้อมูล แต่ละคอนเทนเนอร์สามารถรองรับหน่วยความจำได้ถึงปริมาณตามที่ระบุในการตั้งค่าขนาดคอนเทนเนอร์ ค่าเริ่มต้นสำหรับ SKU ทั้งหมดคือ **700 MB** คุณอาจต้องการเปลี่ยนการตั้งค่านี้หาก:

- กระแสข้อมูลใช้เวลาในการรีเฟรชนานเกินไป หรือการรีเฟรชกระแสข้อมูลล้มเหลวในการหมดเวลารอ
- เอนทิตี้กระแสข้อมูลรวมถึงขั้นตอนการคำนวณ ตัวอย่างเช่น การเข้ารวม เป็นต้น  

ขอแนะนำให้คุณใช้แอป [เมตริกความจุ Power BI Premium](service-admin-premium-monitor-capacity.md)ุ เพื่อวิเคราะห์ประสิทธิภาพการทำงานของปริมาณงานกระแสข้อมูล 

ในบางกรณี ขนาดคอนเทนเนอร์ที่เพิ่มขึ้นอาจไม่สามารถปรับปรุงประสิทธิภาพการทำงานได้ ตัวอย่างเช่น หากกระแสข้อมูลกำลังรับข้อมูลจากแหล่งที่มาโดยไม่มีการคำนวณที่สำคัญ เป็นต้น การเปลี่ยนขนาดคอนเทนเนอร์อาจไม่ช่วยอะไร ขนาดคอนเทนเนอร์ที่เพิ่มขึ้นอาจช่วยในกรณีที่จะเปิดใช้งานปริมาณงานกระแสข้อมูลเพื่อจัดสรรหน่วยความจำเพิ่มเติมสำหรับการดำเนินการรีเฟรชเอนทิตี้ ด้วยการจัดสรรหน่วยความจำเพิ่มเติมจะช่วยลดเวลาที่ใช้ในการรีเฟรชเอนทิตี้ที่มีการคำนวณอย่างหนักได้

ค่าขนาดคอนเทนเนอร์ต้องไม่เกินหน่วยความจำสูงสุดสำหรับปริมาณงานกระแสข้อมูล ตัวอย่างเช่น ความจุ P1 อยู่ที่ 25GB ของหน่วยความจำ ถ้าหน่วยความจำสูงสุดของปริมาณงานกระแสข้อมูล (%) ได้รับการตั้งค่าเป็น 20% ขนาดคอนเทนเนอร์ (MB) ต้องไม่เกิน 5000 ขนาดของคอนเทนเนอร์ต้องไม่เกินหน่วยความจำสูงสุดแม้คุณจะตั้งค่าสูงขึ้นก็ตามในทุกกรณี

### <a name="paginated-reports-preview"></a>รายงานที่มีการแบ่งหน้า (แสดงตัวอย่าง)

รายงานที่มีการแบ่งหน้าอนุญาตให้เรียกใช้รหัสแบบกำหนดเองเมื่อทำการแสดงรายงาน ตัวอย่างเช่น การเปลี่ยนสีข้อความแบบไดนามิกที่ยึดตามเนื้อหา ซึ่งสามารถรับหน่วยความจำเพิ่มเติมได้ Power BI Premium เรียกใช้รายงานแบบแบ่งหน้ามีช่องว่างที่มีอยู่ภายในกำลังการผลิต หน่วยความจำสูงสุดที่ระบุไว้จะถูกนำมาใช้ไม่ว่าจะใช้ปริมาณงานอยู่ *หรือไม่* ถ้ามีการเปลี่ยนแปลงการตั้งค่าหน่วยความจำสูงสุดจากค่าเริ่มต้น ต้องตรวจสอบให้แน่ใจว่าคุณได้ตั้งค่าไว้ต่ำเพียงพอที่จะไม่ส่งผลกระทบในเชิงลบต่อปริมาณงานอื่น ๆ

ในบางกรณีที่หาได้ยาก ปริมาณงานของรายงานแบบแบ่งหน้าอาจไม่พร้อมใช้งาน ในกรณีเช่นนี้ ปริมาณงานจะแสดงสถานะข้อผิดพลาดในพอร์ทัลผู้ดูแลระบบ และผู้ใช้จะเห็นการหมดเวลาในการสร้างรายงาน เพื่อเป็นการลดปัญหานี้ ให้ปิดใช้งานปริมาณงานแล้วจึงเปิดใช้งานอีกครั้ง

## <a name="configure-workloads"></a>กำหนดค่าปริมาณงาน

ขยายทรัพยากรที่พร้อมใช้งานของความจุของคุณให้ใหญ่ที่สุด โดยเปิดการใช้งานปริมาณงานเมื่อต้องใช้เท่านั้น เปลี่ยนการตั้งค่าหน่วยความจำและการตั้งค่าอื่น ๆ เมื่อคุณเห็นว่าการตั้งค่าเริ่มต้นไม่ตอบสนองต่อความต้องการของทรัพยากรความจุของคุณ

### <a name="to-configure-workloads-in-the-power-bi-admin-portal"></a>เปิดใช้ปริมาณงานในพอร์ทัลผู้ดูแลระบบของ Power BI

1. ใน**ตั้งค่ากำลังการผลิต** > **กำลังการผลิตแบบ PREMIUM**เลือกความจุ

1. ขยาย**ปริมาณงาน**ที่ใต้ **ตัวเลือกเพิ่มเติม**

1. เปิดใช้งานปริมาณงานอย่างน้อยหนึ่งตัว และตั้งค่าสำหรับ **ความจำสูงสุด** และการตั้งค่าอื่น ๆ

1. เลือก**นำไปใช้**

### <a name="rest-api"></a>REST API

ปริมาณงานคุณสามารถเปิดใช้งาน และกำหนดความจุ โดยใช้[Capacitie](https://docs.microsoft.com/rest/api/power-bi/capacities)REST APIs

## <a name="monitoring-workloads"></a>การตรวจสอบปริมาณงาน

[แอปเมตริกความจุ Power BI Premium ](service-admin-premium-monitor-capacity.md) มีชุดข้อมูล กระแสข้อมูล และเมตริกรายงานที่มีการแบ่งหน้าเพื่อตรวจสอบปริมาณงานที่เปิดการใช้งานสำหรับความจุของคุณ 

## <a name="next-steps"></a>ขั้นตอนถัดไป

[การปรับความจุ Power BI Premium ให้เหมาะสม](service-premium-capacity-optimize.md)     
[เตรียมข้อมูลด้วยตนเองใน Power BI ด้วย Dataflows](service-dataflows-overview.md)   
[รายงานแบบแบ่งหน้าใน Power BI Premium คืออะไร](paginated-reports-report-builder-power-bi.md)   

มีคำถามเพิ่มเติมหรือไม่? [ถามชุมชน Power BI](http://community.powerbi.com/)