---
title: เชื่อมต่อกับ Snowflake ด้วย Power BI
description: Snowflake ที่มี SSO สำหรับ Power BI
author: cpopell
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 11/20/2019
ms.author: gepopell
LocalizationGroup: Connect to services
ms.openlocfilehash: 03e6e8efae5cd4a5f61e3d07bc0b3c524b3b0a46
ms.sourcegitcommit: d6a48e6f6e3449820b5ca03638b11c55f4e9319c
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 02/18/2020
ms.locfileid: "77429360"
---
#  <a name="connecting-to-snowflake-in-power-bi-service"></a>การเชื่อมต่อกับ Snowflake ในบริการ Power BI

## <a name="introduction"></a>บทนำ

การเชื่อมต่อกับ Snowflake ในบริการ Power BI เท่านั้นที่แตกต่างจากตัวเชื่อมต่ออื่นในทางเดียว ซึ่งก็คือมีความสามารถเพิ่มเติมสำหรับ AAD (ด้วยตัวเลือกสำหรับ SSO) ส่วนต่างๆ ของการรวมต้องมีบทบาทการดูแลที่แตกต่างกันใน Snowflake, Power BI และ Azure คุณยังสามารถเลือกเปิดใช้งานการรับรองความถูกต้อง AAD โดยไม่ต้องใช้ SSO ได้ การรับรองความถูกต้องเบื้องต้นทำงานคล้ายกับตัวเชื่อมต่ออื่น ๆ ในบริการ

หากคุณสนใจที่จะกำหนดค่าการรวม AAD รวมถึงการเปิดใช้งาน SSO แบบเป็นทางเลือก:
* ถ้าคุณเป็นผู้ดูแลระบบ Snowflake โปรดอ่านบทความ [Power BI SSO ไปยัง Snowflake - เริ่มต้นใช้งาน](https://docs.snowflake.net/manuals/LIMITEDACCESS/oauth-powerbi.html) ในเอกสารคู่มือ Snowflake
* (SSO) ถ้าคุณเป็นผู้ดูแลระบบ Power BI ให้ดูที่ส่วน 'การกำหนดค่าบริการ Power BI - พอร์ทัลผู้ดูแลระบบ'
* (SSO) ถ้าคุณเป็นผู้สร้างชุดข้อมูล Power BI ให้ดูที่ส่วน 'การกำหนดค่าบริการ Power BI - การเปิดใช้งานชุดข้อมูล'

## <a name="power-bi-service-configuration"></a>การกำหนดค่าบริการ Power BI

### <a name="admin-portal"></a>พอร์ทัลผู้ดูแลระบบ

ถ้าคุณต้องการเปิดใช้งาน SSO ผู้ดูแลระบบผู้เช่าจะต้องไปที่พอร์ทัลผู้ดูแลระบบ และอนุมัติการส่งข้อมูลประจำตัว Power BI AAD ไปยัง Snowflake

![การตั้งค่าผู้ดูแลระบบผู้เช่าสำหรับ Snowflake SSO](media/service-connect-snowflake/snowflakessotenant.png)

นำทางไปยัง "พอร์ทัลผู้ดูแลระบบ" ของคุณ เลือกรายการแถบด้านข้าง "การตั้งค่าผู้เช่า" เลื่อนลงไปที่ "การตั้งค่าการรวม" และคุณจะเห็นตัวเลือกสำหรับ "Snowflake  SSO"

เมื่อได้รับคำเตือน คุณจะต้องเปิดใช้งานนี้เพื่อยินยอมให้ส่งโทเค็น AAD ของคุณไปยังเซิร์ฟเวอร์ Snowflake ด้วยตนเอง เมื่อต้องการเปิดใช้งาน ให้คลิกที่ปุ่มสลับ 'ปิดใช้งาน' แล้วกดนำไปใช้และรอให้การตั้งค่าเปลี่ยนแปลงมีผลบังคับใช้ ซึ่งอาจใช้เวลาถึงหนึ่งชั่วโมงก่อนที่บริการจะเผยแพร่การกำหนดค่า

หลังจากเสร็จสิ้นแล้ว คุณจะสามารถใช้รายงานที่มี SSO ได้

### <a name="configuring-a-dataset-with-aad"></a>การกำหนดค่าชุดข้อมูลที่มี AAD

หลังจากที่มีการเผยแพร่รายงานที่ยึดตามตัวเชื่อมต่อ Snowflake ไปยังเว็บแล้ว ในบริการเว็บ Power BI ผู้สร้างชุดข้อมูลจำเป็นต้องนำทางไปยังพื้นที่ทำงานที่เหมาะสม จากนั้นเลือก 'ชุดข้อมูล' และเลือก 'การตั้งค่า' (ภายใต้ เมนู '...' สำหรับการดำเนินการเพิ่มเติมถัดจากชุดข้อมูลที่เกี่ยวข้อง)

เนื่องจากวิธีการทำงานของ Power BI นั้น SSO จะทำงานเฉพาะเมื่อไม่มีการเรียกใช้แหล่งข้อมูลผ่านเกตเวย์ข้อมูลภายในองค์กร

* ถ้าคุณกำลังใช้เฉพาะแหล่งข้อมูล Snowflake ในแบบจำลองข้อมูลของคุณ คุณสามารถใช้ SSO ได้ถ้าคุณเลือกที่จะไม่ใช้เกตเวย์ข้อมูลภายในองค์กร
* หากคุณกำลังใช้แหล่งข้อมูล Snowflake กับแหล่งอื่น คุณสามารถใช้ SSO ได้หากไม่มีแหล่งข้อมูลใดที่ใช้เกตเวย์ข้อมูลภายในองค์กร
* หากคุณกำลังใช้แหล่งข้อมูล Snowflake ผ่านเกตเวย์ข้อมูลภายในองค์กร คุณสามารถใช้ข้อมูลประจำตัว AAD ได้ แต่ไม่ใช่ SSO ซึ่งอาจเกี่ยวข้องกับกรณีที่คุณกำลังพยายามเข้าถึง VNet จาก IP เดียวกับเกตเวย์ที่ติดตั้งอยู่ในนั้น แทนที่จะเป็นจากช่วง IP ทั้งหมดของ Power BI
* หากคุณกำลังใช้แหล่งข้อมูล Snowflake กับแหล่งอื่นที่ต้องการเกตเวย์ คุณจะต้องใช้ Snowflake ผ่านเกตเวย์ข้อมูลภายในองค์กรเช่นกัน และจะไม่สามารถใช้ SSO ได้

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับวิธีการใช้เกตเวย์ข้อมูลภายในองค์กร ให้ดูบทความ [เกตเวย์ข้อมูลภายในองค์กรคืออะไร](https://docs.microsoft.com/power-bi/service-gateway-onprem)

หากคุณไม่ได้ใช้เกตเวย์ แสดงว่าคุณพร้อมแล้ว ถ้าคุณมีการกำหนดค่าข้อมูลประจำตัว Snowflake บนเกตเวย์ข้อมูลภายในองค์กรของคุณ แต่ใช้เฉพาะแหล่งข้อมูลนั้นในแบบจำลองของคุณ คุณสามารถคลิกปุ่มสลับบนหน้าการตั้งค่าชุดข้อมูล เพื่อปิดเกตเวย์สำหรับแบบจำลองข้อมูลนั้นได้

![การตั้งค่าชุดข้อมูลเพื่อสลับปิดเกตเวย์](media/service-connect-snowflake/snowflake_gateway_toggle_off.png)

ผู้สร้างชุดข้อมูลต้องเลือก 'ข้อมูลประจำตัวของแหล่งข้อมูล' และลงชื่อเข้าใช้ คุณสามารถลงชื่อเข้าใช้ชุดข้อมูลไปยัง Snowflake ได้ด้วยข้อมูลประจำตัวพื้นฐานหรือข้อมูลประจำตัว OAuth2 (AAD) หากคุณเลือกที่จะใช้ AAD คุณก็สามารถเปิดใช้งานชุดข้อมูลเพื่อใช้ SSO ได้ เมื่อผู้ใช้รายแรกนี้ลงชื่อเข้าใช้ Snowflake สำหรับชุดข้อมูลแล้ว พวกเขาจำเป็นต้องเลือกตัวเลือกที่ผู้ใช้รายอื่นจะมีข้อมูลประจำตัว Oauth2 ของพวกเขาที่ใช้ในการดึงข้อมูล การดำเนินการนี้จะเป็นการเปิดใช้งาน AAD SSO ไม่ว่าผู้ใช้เริ่มต้นจะลงชื่อเข้าใช้ด้วยการรับรองความถูกต้องเบื้องต้นหรือ OAuth2 (AAD) แต่ข้อมูลประจำตัวของ AAD ก็คือสิ่งที่จะถูกส่งไปยัง SSO 

![การตั้งค่าชุดข้อมูลสำหรับ Snowflake SSO](media/service-connect-snowflake/snowflakessocredui.png)

เมื่อดำเนินการเสร็จสิ้นแล้ว ผู้ใช้เพิ่มเติมใดก็ตามควรใช้การรับรองความถูกต้อง AAD ของตนโดยอัตโนมัติเพื่อเชื่อมต่อกับข้อมูลจากชุดข้อมูลของ Snowflake นั้น

ถ้าคุณเลือกที่จะไม่เปิดใช้งาน SSO จากนั้นผู้ใช้จะรีเฟรชรายงานจะใช้ข้อมูลประจำตัวของผู้ใช้ที่เข้าสู่ระบบ เช่น รายงาน Power BI อื่นๆ ส่วนใหญ่

### <a name="troubleshooting"></a>การแก้ไขปัญหา

หากคุณพบปัญหาใด ๆ เกี่ยวกับการรวม โปรดอ้างอิง[คู่มือการแก้ไขปัญหา](https://docs.snowflake.net/manuals/LIMITEDACCESS/oauth-powerbi.html#troubleshooting)ของ Snowflake

