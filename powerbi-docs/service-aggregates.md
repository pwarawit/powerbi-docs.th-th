---
title: ทำงานกับการรวม (sum, average และอื่น ๆ) ในบริการ Power BI
description: เรียนรู้วิธีเปลี่ยนการรวมในแผนภูมิ (ผลรวม ค่าเฉลี่ย ค่าสูงสุด และอื่น ๆ) ในบริการ Power BI
author: mgblythe
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-service
ms.topic: conceptual
ms.date: 05/03/2019
ms.author: mblythe
ms.custom: seodec18
LocalizationGroup: Reports
ms.openlocfilehash: 7cee05df6a7d13e18bc31bc1a1f34a5f89711c0d
ms.sourcegitcommit: 60dad5aa0d85db790553e537bf8ac34ee3289ba3
ms.translationtype: MT
ms.contentlocale: th-TH
ms.lasthandoff: 05/29/2019
ms.locfileid: "65710669"
---
# <a name="work-with-aggregates-sum-average-and-so-on-in-the-power-bi-service"></a>ทำงานกับการรวม (sum, average และอื่น ๆ) ในบริการ Power BI

## <a name="what-is-an-aggregate"></a>การรวมคืออะไร?

ในบางครั้งคุณต้องการรวมค่าต่าง ๆ ทางคณิตศาสตร์ในข้อมูลของคุณ การดำเนินการทางคณิตศาสตร์อาจเป็นผลรวม ค่าเฉลี่ย ค่าสูงสุด count และอื่น ๆ เมื่อคุณรวมค่าในข้อมูลของคุณ เรียกว่า*รวม* ส่วนผลลัพธ์ของการดำเนินการทางคณิตศาสตร์คือ *การรวม หรือ ค่ารวม*

เมื่อบริการของ Power BI และ Power BI Desktop สร้างการแสดงผล อาจมีการรวมข้อมูลของคุณ การรวมมักจะเป็นสิ่งที่คุณต้องการ แต่บางครั้งคุณอาจต้องการรวมค่าในวิธีอื่น  ตัวอย่างเช่น การบวก กับ การหาค่าเฉลี่ย มีหลายวิธีที่จะจัดการ และเปลี่ยนการรวม Power BI ที่ใช้ในการแสดงภาพ

ก่อนอื่น ลองมาดูข้อมูล*ชนิด*เนื่องจากชนิดของข้อมูลกำหนดวิธี และ ว่า Power BI สามารถรวม

## <a name="types-of-data"></a>ชนิดของข้อมูล

ชุดข้อมูลส่วนใหญ่มีชนิดของข้อมูลมากกว่าหนึ่งชนิด ระดับพื้นฐานสุด ข้อมูลจะเป็นตัวเลขหรือไม่ Power BI สามารถรวมข้อมูลตัวเลขโดยใช้ผลรวม ค่าเฉลี่ย count ค่าต่ำสุด ค่าความแปรปรวน และอีกมาก บริการแม้แต่สามารถรวมข้อมูลเป็นข้อความ มักเรียกว่า*แบบกลุ่ม*ข้อมูลได้ ถ้าคุณพยายามที่จะรวมเขตข้อมูลประเภท โดยการวางลงในกลุ่มตัวเลขเท่านั้นเช่น**ค่า**หรือ**แนะนำเครื่องมือ**, Power BI จะนับจำนวนครั้งของแต่ละประเภท หรือนับการเกิดแตกต่างกันของแต่ละรายการ ประเภท ชนิดพิเศษของข้อมูล เช่นวัน มีสองสามตัวเลือกของพวกเขาเองรวม: ก่อนสุด หลัง สุด และสุดท้าย

ในตัวอย่างด้านล่าง:

- **หน่วยที่ขาย** และ **ราคาผลิต** เป็นคอลัมน์ที่ประกอบด้วยข้อมูลตัวเลข

- **เซกเมนต์**, **ประเทศ**, **ผลิตภัณฑ์**, **เดือน** และ**ชื่อเดือน** เป็นข้อมูลตามประเภท

   ![สกรีนช็อตของชุดข้อมูลตัวอย่าง](media/service-aggregates/power-bi-aggregate-chart.png)

เมื่อสร้างการแสดงภาพใน Power BI บริการจะรวมเขตข้อมูลตัวเลข (ค่าเริ่มต้นคือ*sum*) เหนือเขตข้อมูลบางประเภท  ตัวอย่างเช่น, "หน่วยที่ขาย***ตามผลิตภัณฑ์***", "หน่วยที่ขาย***ตามเดือน***" และ "ราคาผลิต***ตามเซ็กเมนต์***" Power BI ถึงบางเขตข้อมูลตัวเลขเป็น**หน่วยวัด** ง่ายต่อการระบุหน่วยวัดในตัวแก้ไขรายงาน Power BI - คำ**เขตข้อมูล**รายการแสดงหน่วยวัด ด้วยสัญลักษณ์∑ข้าง ๆ ดู[ตัวแก้ไขรายงาน... ชมการแนะนำ](service-the-report-editor-take-a-tour.md)สำหรับข้อมูลเพิ่มเติม

![สกรีนช็อตของ Power BI กับรายการเขตข้อมูลที่เรียกว่าออก](media/service-aggregates/power-bi-aggregate-fields.png)

## <a name="why-dont-aggregates-work-the-way-i-want-them-to"></a>ทำไมการรวมไม่ทำอย่างที่ฉันต้องการ?

ทำงานกับการรวมใน Power BI service อาจสับสน บางทีคุณมีเขตข้อมูลตัวเลข และ Power BI ไม่อนุญาตให้คุณเปลี่ยนการรวม หรือบางทีคุณมีเขตข้อมูล เช่น ปี และคุณไม่ต้องการรวม คุณเพียงแค่ต้องการนับจำนวนครั้งที่ปรากฏ

โดยทั่วไปแล้ว ปัญหาเบื้องต้นคือ ข้อกำหนดเขตข้อมูลในชุดข้อมูล อาจเป็นเจ้าของชุดข้อมูลกำหนดเขตข้อมูลเป็นข้อความ และที่อธิบายสาเหตุ Power BI ไม่สามารถหาผลรวม หรือค่าเฉลี่ยได้ ขออภัยที่ [เฉพาะเจ้าของชุดข้อมูลเท่านั้น ที่สามารถเปลี่ยนการจัดประเภทของเขตข้อมูลได้](desktop-measures.md) ดังนั้น ถ้าคุณมีสิทธิ์ระดับเจ้าของชุดข้อมูล ในเดสก์ท็อปหรือโปรแกรมที่ใช้สร้างชุดข้อมูล (ตัวอย่าง Excel), คุณสามารถแก้ไขปัญหานี้ มิฉะนั้น คุณจะต้องติดต่อเจ้าของชุดข้อมูลเพื่อขอความช่วยเหลือ  

มีส่วนพิเศษที่ส่วนท้ายของบทความนี้เรียกว่า[ **ข้อควรพิจารณาและการแก้ไขปัญหา**](#considerations-and-troubleshooting) แสดงเคล็ดลับและคำแนะนำ ถ้าคุณไม่พบคำตอบของคุณมี โพสต์คำถามของคุณบนการ[ฟอรัมชุมชน Power BI](http://community.powerbi.com) คุณจะได้รับการตอบกลับอย่างรวดเร็วโดยตรงจากทีม Power BI

## <a name="change-how-a-numeric-field-is-aggregated"></a>เปลี่ยนวิธีการรวมเขตข้อมูลตัวเลข

สมมุติว่าคุณมีแผนภูมิที่หาผลรวม จำนวนหน่วยที่ขายได้สำหรับผลิตภัณฑ์ต่าง ๆ แต่คุณอยากได้ค่าเฉลี่ยแทน

1. สร้างการ**แผนภูมิคอลัมน์แบบกลุ่ม**ที่ใช้หน่วยวัดและประเภท ในตัวอย่างนี้ เรากำลังใช้หน่วยที่ขายเป็นผลิตภัณฑ์  ตามค่าเริ่มต้น Power BI สร้างแผนภูมิที่หาผลรวมหน่วยที่ขายได้ (ลากหน่วยวัดลงในการ**ค่า**ดี) สำหรับแต่ละผลิตภัณฑ์ (ลากประเภทลงในการ**แกน**กัน)

   ![สกรีนช็อตของแผนภูมิ หน้าต่างการแสดงภาพ และรายการเขตข้อมูลกับผลรวมที่เรียกว่าออก](media/service-aggregates/power-bi-aggregate-sum.png)

1. ในการ**แสดงภาพ**บานหน้าต่าง คลิกขวาหน่วยวัด และเลือกชนิดการรวมที่คุณต้องการ ในกรณีนี้ เราเลือก**เฉลี่ย** ถ้า คุณไม่เห็นการรวมที่คุณจำเป็น ดู[ **ข้อควรพิจารณาและการแก้ไขปัญหา** ](#considerations-and-troubleshooting)ส่วน

   ![สกรีนช็อตของรายการรวมกับค่าเฉลี่ยที่เลือก และเรียกดู](media/service-aggregates/power-bi-aggregate-average.png)

   > [!NOTE]
   > ตัวเลือกที่พร้อมใช้งานในรายการดรอปดาวน์จะแตกต่างกันขึ้นอยู่กับเขตข้อมูล 1) ที่เลือก และเจ้าของชุดข้อมูล 2) การจัดประเภทเขตข้อมูลนั้น

1. การแสดงภาพของคุณ ตอนนี้รวมโดยการเฉลี่ย

   ![สกรีนช็อตของแผนภูมิตอนนี้ แสดงค่าเฉลี่ยของหน่วยที่ขายตามผลิตภัณฑ์](media/service-aggregates/power-bi-aggregate-average-2.png)

## <a name="ways-to-aggregate-your-data"></a>วิธีการรวมข้อมูลของคุณ

บางตัวเลือกที่อาจมีให้สำหรับการรวมเขตข้อมูล:

- **ไม่ต้องทำการสรุป** เลือกตัวเลือกนี้ Power BI ถือว่าแต่ละค่าในเขตข้อมูลที่แยกต่างหาก และไม่สรุป ใช้ตัวเลือกนี้ถ้าคุณมีคอลัมน์ ID ตัวเลขที่ไม่ควรรวมบริการ

- **ผลรวม** บวกค่าทั้งหมดในเขตข้อมูลนั้น

- **ค่าเฉลี่ย** คำนวนค่าเฉลี่ยเลขคณิตของค่าทั้งหมด

- **ต่ำสุด** แสดงค่าที่น้อยที่สุด

- **สูงสุด** แสดงค่าที่มากที่สุด

- **นับจำนวน (ไม่เว้นว่าง)** นับจำนวนของค่าในเขตข้อมูลนั้นที่ไม่ว่าง

- **นับจำนวน (ค่าที่แตกต่างกัน)** นับจำนวนค่าที่แตกต่างกันในเขตข้อมูลนั้น

- **ค่าเบี่ยงเบนมาตรฐาน**

- **ผลต่าง**

- **ค่ากลาง**  แสดงค่ามัธยฐาน (ค่าตรงกลาง) ค่านี้มีจำนวนรายการด้านบนและด้านล่างเท่ากัน  หากมีค่ากลางสองค่า Power BI จะหาค่าเฉลี่ย

ตัวอย่างเช่น ข้อมูลนี้:

| ประเทศ | ยอดเงิน |
|:--- |:--- |
| สหรัฐอเมริกา |100 |
| สหราชอาณาจักร |150 |
| แคนาดา |100 |
| เยอรมนี |125 |
| ฝรั่งเศส | |
| ญี่ปุ่น |125 |
| ออสเตรเลีย |150 |

จะให้ผลลัพธ์ดังต่อไปนี้:

- **ไม่ต้องสรุป**: จะแสดงค่าแต่ละรายการแยกต่างหาก

- **ผลรวม**: 750

- **ค่าเฉลี่ย**: 125

- **สูงสุด**:  150

- **ต่ำสุด**: 100

- **นับจำนวน (ไม่เว้นว่าง):** 6

- **จำนวน (เขต):** 4

- **ค่าเบี่ยงเบนมาตรฐาน:** 20.4124145...

- **ผลต่าง:** 416.666...

- **ค่ากลาง:** 125

## <a name="create-an-aggregate-using-a-category-text-field"></a>สร้างการรวมโดยใช้เขตข้อมูลประเภท (ข้อความ)

คุณยังสามารถรวมเขตข้อมูลที่ไม่ใช่ตัวเลข ตัวอย่างเช่น ถ้าคุณมีเขตข้อมูลชื่อผลิตภัณฑ์ คุณสามารถเพิ่มเป็นค่า และตั้งค่าเป็น**นับจำนวน**, **นับจำนวนที่แตกต่างกัน**, **แรก**หรือ**สุดท้าย**ได้

1. ลากตัว**ผลิตภัณฑ์**เขตข้อมูลลงในการ**ค่า**กัน การ**ค่า**มักใช้สำหรับเขตข้อมูลตัวเลข Power BI จดจำว่า เขตข้อมูลนี้เป็นเขตข้อมูลข้อความ ตั้งค่าการรวม**สรุป**และแสดงคุณ มีตารางแบบคอลัมน์เดียว

   ![สกรีนช็อตของเขตข้อมูลผลิตภัณฑ์ในค่าดี](media/service-aggregates/power-bi-aggregate-value.png)

1. ถ้าคุณเปลี่ยนการรวมจากค่าเริ่มต้น**สรุป**เพื่อ**นับจำนวน (แตกต่างกัน)** , Power BI นับจำนวนของผลิตภัณฑ์ต่าง ๆ ในกรณีนี้ มีสี่
  
   ![สกรีนช็อตของจำนวนผลิตภัณฑ์แตกต่างกัน](media/service-aggregates/power-bi-aggregate-count.png)

1. และ ถ้าคุณเปลี่ยนการรวมเป็น**จำนวน**, Power BI นับจำนวนทั้งหมด ในกรณีนี้ มีรายการ 7 สำหรับ**ผลิตภัณฑ์**

   ![สกรีนช็อตของจำนวนผลิตภัณฑ์](media/service-aggregates/power-bi-aggregate-count-2.png)

1. โดยการลากเขตข้อมูลเดียวกัน (ในกรณีนี้**ผลิตภัณฑ์**) ลงในการ**ค่า**เดียวกับ และออกจากการรวมเริ่มต้น**สรุป**, Power BI แบ่งการนับจำนวนตาม ผลิตภัณฑ์

   ![สกรีนช็อตของผลิตภัณฑ์และจำนวนผลิตภัณฑ์](media/service-aggregates/power-bi-aggregate-final.png)

## <a name="considerations-and-troubleshooting"></a>ข้อควรพิจารณาและการแก้ไขปัญหา

คำถาม:  เหตุใดฉันจึงไม่มีตัวเลือกให้**ไม่ต้องทำการสรุป**?

คำตอบ:  เขตข้อมูลที่คุณเลือกน่าจะเป็น หน่วยวัดจากการคำนวณหรือหน่วยวัดขั้นสูงที่สร้างขึ้นใน Excel หรือ [Power BI Desktop](desktop-measures.md) แต่ละหน่วยวัดจากการคำนวณ มีสูตรคำนวนที่ตายตัว คุณไม่สามารถเปลี่ยนการรวมที่ใช้ Power BI ตัวอย่างเช่น ถ้าใช้ผลรวม จะต้องเป็นผลรวมเท่านั้น การ**เขตข้อมูล**รายการแสดง*คำนวณหน่วยวัด*กับสัญลักษณ์เครื่องคิดเลข

Q:  เขตข้อมูลฉัน**เป็น**ตัวเลข ทำไมฉันมีตัวเลือกแค่**นับจำนวน**และ**นับจำนวนที่แตกต่างกัน**?

คำตอบที่ 1:  อาจเป็นเจ้าของชุดข้อมูลมี*ไม่*จัดประเภทเขตข้อมูลเป็นตัวเลข ตัวอย่าง ถ้ามีชุดข้อมูลเป็น**ปี**เขตข้อมูล เจ้าของชุดข้อมูลอาจจัดประเภทค่าที่เป็นข้อความ จะมีแนวโน้มว่า Power BI จะนับจำนวนคำ**ปี**เขตข้อมูล (ตัวอย่าง จำนวนของบุคคลที่เกิดในปี 1974) เป็นไปได้น้อยที่ Power BI จะหาผลรวม หรือค่าเฉลี่ยได้ ถ้าคุณเป็นเจ้าของ คุณสามารถเปิดชุดข้อมูลใน Power BI Desktop และใช้**โมเดล**แท็บเมื่อต้องเปลี่ยนชนิดข้อมูลได้

คำตอบที่ 2: ถ้าเขตข้อมูลมีไอคอนเครื่องคิดเลข ซึ่งหมายความ ว่า การ*คำนวณหน่วยวัด* แต่ละคำนวณหน่วยวัดมีสูตรตายตัวเองที่สามารถเปลี่ยนเจ้าของชุดข้อมูลเท่านั้น การคำนวณที่ใช้ Power BI อาจเป็นการรวมอย่างง่ายเช่นค่าเฉลี่ยหรือผลรวม ซึ่งอาจเป็นสิ่งที่ซับซ้อนมากขึ้นเช่น "เปอร์เซ็นต์ของผลกระทบต่อประเภทหลัก" หรือ "ผลรวมสะสมตั้งแต่ต้นปี" Power BI จะไม่สามารถหาผลรวม หรือค่าเฉลี่ยผลลัพธ์ แทน ซึ่งจะเพียงคำนวณใหม่ (โดยใช้สูตรตายตัว) สำหรับแต่ละจุดข้อมูล

คำตอบที่ 3:  อีกความเป็นไปได้คือ คุณได้ปล่อยเขตข้อมูลลงใน*บักเก็ต* ที่อนุญาตให้ใส่ค่าที่เป็นประเภทเท่านั้น  ในกรณีนั้น ตัวเลือกของคุณจะมีแค่ นับจำนวนและนับจำนวนที่แตกต่างกันเท่านั้น

คำตอบที่ 4:  และด้วยสี่ ว่า คุณกำลังใช้เขตข้อมูลสำหรับแกน ตัวอย่างเช่น บนแกนแผนภูมิแท่ง Power BI แสดงหนึ่งแท่งสำหรับแต่ละค่าที่ไม่ซ้ำกัน จะไม่มีรวมค่าของเขตข้อมูลเลย

>[!NOTE]
>ข้อยกเว้นของกฎนี้คือ แผนภูมิกระจาย ซึ่ง*จำเป็นต้องมี*การรวมค่าสำหรับแกน X และ Y

Q:  เหตุใดฉันจึงไม่สามารถรวมเขตข้อมูลข้อความสำหรับแหล่งข้อมูล SQL Server Analysis Services (SSAS) ได้?

A:  การเชื่อมต่อแบบสดไปยังโมเดลหลายมิติของ SSAS ไม่อนุญาตให้มีการรวมฝั่งไคลเอ็นต์ใด ๆ รวมถึงครั้งแรก ครั้งสุดท้าย เฉลี่ย ต่ำสุด สูงสุดและผลรวม

Q:  ฉันมีแผนภูมิกระจาย และฉันต้องการให้เขตข้อมูลของฉัน*ไม่*รวม  อย่างไร?

A:  เพิ่มเขตข้อมูลไปยังบักเก็ต**รายละเอียด** และไม่ใส่ในบักเก็ตแกน X หรือ Y

คำถาม:  เมื่อฉันเพิ่มเขตข้อมูลตัวเลขลงในการแสดงภาพ ส่วนใหญ่ค่าเริ่มต้นคือผลรวม แต่บางทีค่าเริ่มต้นเป็นค่าเฉลี่ย บางทีเป็นการนับจำนวน หรือการรวมอื่น ๆ  เหตุใดค่าเริ่มต้นจึงไม่ได้เหมือนกันตลอด?

A:  เจ้าของชุดข้อมูลสามารถตั้งค่าข้อสรุปเริ่มต้นสำหรับแต่ละเขตข้อมูล ถ้าคุณเป็นเจ้าของชุดข้อมูล เปลี่ยนข้อสรุปเริ่มต้นในการ**โมเดล**แท็บของ Power BI Desktop

Q:  ฉันเป็นเจ้าของชุดข้อมูล และฉันต้องการให้แน่ใจว่า เขตข้อมูลหนึ่งจะไม่มีการรวมเลย

คำตอบ:  ใน Power BI Desktop ในแท็บ**การวางรูปแบบ** ตั้งค่า**ชนิดข้อมูล**ให้เป็น**ข้อความ**

Q:  ฉันไม่เห็น**สรุป**เป็นตัวเลือกในรายการแบบหล่นลงของฉัน

A:  ลองเอาเขตข้อมูลออก และเพิ่มกลับเข้าไปอีกครั้ง

มีคำถามเพิ่มเติมหรือไม่? [ลองไปที่ชุมชน Power BI](http://community.powerbi.com/)