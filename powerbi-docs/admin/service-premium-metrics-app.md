---
title: แอปเมตริกความจุ Power BI Premium
description: เรียนรู้วิธีการใช้แอปเมตริกความจุ Power BI Premium เพื่อจัดการและแก้ไขปัญหาความจุพรีเมียมของคุณ
author: davidiseminger
ms.author: davidi
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-admin
ms.topic: how-to
ms.date: 05/11/2020
LocalizationGroup: Premium
ms.openlocfilehash: 999e146d459fbff541e3655d97ddb841972ec62c
ms.sourcegitcommit: eef4eee24695570ae3186b4d8d99660df16bf54c
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 06/23/2020
ms.locfileid: "85227718"
---
# <a name="power-bi-premium-metrics-app"></a>แอปเมตริกความจุ Power BI Premium

คุณสามารถใช้ **แอปเมตริกความจุ Power BI Premium** เพื่อจัดการประสิทธิภาพและความจุของการสมัครใช้งาน Power BI Premium ของคุณได้ ด้วยแอปนี้ ผู้ดูแลระบบใช้ **ศูนย์ประสิทธิภาพความจุ** ของแอปเพื่อดูและโต้ตอบกับตัวบ่งชี้ที่ตรวจสอบประสิทธิภาพของความจุพรีเมียมของพวกเขา แอปเมตริกประกอบด้วยหน้าเริ่มต้นที่เรียกว่า **ศูนย์ประสิทธิภาพความจุ** และรายละเอียดเกี่ยวกับเมตริกสำคัญสามรายการ:

* หน่วยความจำที่ใช้งานอยู่
* การรอคิวรี
* การรอรีเฟรช

![แอปเมตริกความจุ Power BI Premium](media/service-premium-metrics-app/premium-metrics-app-00.png)

ส่วนต่อไปนี้จะอธิบายในรายละเอียดของหน้าเริ่มต้นและหน้ารายงานเมตริกสามรายการ 

> [!IMPORTANT]
> ถ้าความจุ Power BI Premium ของคุณกำลังประสบปัญหาการใช้ทรัพยากรสูงจนส่งผลให้เกิดปัญหาด้านประสิทธิภาพการทำงานหรือความมั่นคง คุณสามารถรับอีเมลแจ้งเตือนเพื่อทราบปัญหาและแก้ไขปัญหาได้ ซึ่งอาจเป็นวิธีที่มีประสิทธิภาพในการแก้ไขปัญหาความจุโอเวอร์โหลด คุณสามารถศึกษาข้อมูลเพิ่มเติมได้ที่[ความจุและการแจ้งเตือนความมั่นคง](service-interruption-notifications.md#capacity-and-reliability-notifications)



## <a name="premium-capacity-health-center"></a>ศูนย์ประสิทธิภาพความจุพรีเมียม

เมื่อคุณเปิด **แอปเมตริก Power BI Premium** คุณจะได้รับการแสดงผลด้วย **ศูนย์ประสิทธิภาพความจุ** ซึ่งแสดงภาพรวมของประสิทธิภาพของความจุ Power BI Premium ของคุณ

![ศูนย์ประสิทธิภาพความจุในแอปเมตริกพรีเมียม](media/service-premium-metrics-app/premium-metrics-app-01.png)

จากหน้าเริ่มต้น คุณสามารถเลือกความจุ Power BI Premium ที่คุณต้องการดู ในกรณีที่องค์กรของคุณมีการสมัครใช้งาน Premium หลายรายการ หากต้องการดูความจุพรีเมียม ให้เลือกรายการดรอปดาวน์ที่อยู่ใกล้กับด้านบนของหน้า ซึ่งเรียกว่า **เลือกความจุเพื่อดูเมตริก**

KPI ทั้งสามรายการแสดงประสิทธิภาพปัจจุบันของความจุพรีเมียมที่เลือก โดยยึดตามการตั้งค่าที่ใช้กับแต่ละ KPI แต่ละรายการ 

เมื่อต้องการดูรายละเอียดเกี่ยวกับ KPI แต่ละรายการ ให้เลือกปุ่ม **สำรวจ** ที่ด้านล่างของวิชวลของ KPI แต่ละรายการ และหน้ารายละเอียดจะแสดงขึ้น ส่วนต่อไปนี้อธิบาย KPI แต่ละรายการและรายละเอียดของเพจ

## <a name="the-active-memory-metric"></a>เมตริกหน่วยความจำที่ใช้งานอยู่

เมตริก **หน่วยความจำที่ใช้งานอยู่** เป็นส่วนหนึ่งของประเภท *การวางแผนความจุ* ซึ่งเป็นตัวบ่งชี้ประสิทธิภาพที่ดีในการประเมินปริมาณการใช้ทรัพยากรของความจุของคุณสำหรับการใช้งาน เพื่อให้คุณสามารถปรับความจุตามที่จำเป็นในการวางแผนขนาดความจุ 

![KPI หน่วยความจำที่ใช้งานอยู่](media/service-premium-metrics-app/premium-metrics-app-02.png)

**หน่วยความจำที่ใช้งานอยู่** คือหน่วยความจำที่ใช้ในการประมวลผลชุดข้อมูลที่กำลังใช้งานอยู่ในขณะนั้น และดังนั้นจึงไม่สามารถนำออกได้เมื่อต้องการหน่วยความจำ เมตริกหน่วยความจำที่ใช้งานอยู่จะระบุว่าความจุของคุณสามารถรองรับการโหลดเพิ่มเติม หรือมีความจุเข้าใกล้หรือเกินความจุการโหลดที่รับได้ในปัจจุบันหรือไม่ หน่วยความจำที่ใช้งานอยู่ในขณะนี้ หมายความว่า มีหน่วยความจำที่พร้อมใช้งานน้อยลงเพื่อสนับสนุนการรีเฟรชและคิวรีเพิ่มเติม 

KPI ของ**หน่วยความจำที่ใช้งานอยู่** จะวัดจำนวนครั้งที่หน่วยความจำที่ใช้งานอยู่ของความจุข้ามเกณฑ์ 70% จำนวน 50 ครั้ง (ตัวกำหนดถูกตั้งค่าเป็น 30% ของเจ็ดวันที่ผ่านมา) ซึ่งแสดงให้เห็นว่าความจุกำลังจะใกล้จุดที่เมื่อผู้ใช้จะเริ่มพบปัญหาด้านประสิทธิภาพการทำงานของคิวรี

วิชวลตัววัดที่แสดงในหัวข้อนี้แสดงให้เห็นว่าในเจ็ดวันที่ผ่านมาจากเวลาที่มีการรีเฟรชรายงานครั้งล่าสุด ความจุได้ข้ามเกณฑ์ 70% สี่ครั้ง แยกตามกลุ่มรายชั่วโมง ค่าสูงสุดของตัววัด 168 แสดงถึงเจ็ดวันที่ผ่านมาในหน่วยชั่วโมง

หากต้องการเรียนรู้รายละเอียดของ KPI ของหน่วยความจำที่ใช้งานอยู่ คลิกที่ปุ่ม **สำรวจ** เพื่อดูหน้ารายงานที่มีการแสดงภาพเฉพาะของเมตริกรายละเอียด พร้อมด้วยคำแนะนำการแก้ไขปัญหาที่แสดงอยู่บนคอลัมน์ด้านขวาของหน้า 

มีสองสถานการณ์ที่มีการอธิบายประกอบ ซึ่งคุณสามารถแสดงบนหน้ารายงานได้โดยการเลือก **สถานการณ์ 1** หรือ **สถานการณ์ 2** บนหน้านั้น 

![หน้ารายละเอียดหน่วยความจำที่ใช้งานอยู่](media/service-premium-metrics-app/premium-metrics-app-03.png)

คำแนะนำการแก้ไขปัญหาที่เกี่ยวข้องกับแต่ละสถานการณ์จะให้คำอธิบายโดยละเอียดเกี่ยวกับความหมายของเมตริก เพื่อที่คุณจะเข้าใจสถานะของความจุได้ดียิ่งขึ้นและทราบถึงสิ่งที่สามารถทำได้เพื่อลดปัญหาใดก็ตาม 

สองสถานการณ์นั้นจะอธิบายไว้ในส่วนต่อไปนี้

### <a name="scenario-one---current-load-is-too-high"></a>สถานการณ์ที่หนึ่ง - การโหลดปัจจุบันสูงเกินไป 

หากต้องการตรวจสอบว่ามีหน่วยความจำเพียงพอสำหรับความจุในการดำเนินการปริมาณงานที่มีหรือไม่ ให้ดูที่วิชวลแรกบนหน้า: **A: เปอร์เซ็นต์หน่วยความจำที่ใช้** ซึ่งแสดงหน่วยความจำที่ใช้โดยชุดข้อมูลที่กำลังประมวลผลอยู่ และดังนั้นจึงไม่นำออกได้

ค่าเกณฑ์การแจ้งเตือน ซึ่งเป็นเส้นประสีแดง เป็นการบอกเหตุการณ์ของการใช้หน่วยความจำ 90%

ค่าเกณฑ์คำเตือน ซึ่งเป็นเส้นประสีเหลือง เป็นการบอกเหตุการณ์ของการใช้หน่วยความจำ 70% 

เส้นประสีดำจะแสดงแนวโน้มการใช้หน่วยความจำโดยยึดตามการใช้งานหน่วยความจำของความจุปัจจุบันผ่านช่วงของเส้นเวลาของกราฟ

การเกิดขึ้นบ่อยครั้งของหน่วยความจำที่ใช้งานอยู่เหนือค่าเกณฑ์การแจ้งเตือน (เส้นประสีแดง) และเส้นแนวโน้มหน่วยความจำ (เส้นประสีดำ) แสดงถึงความดันความจุหน่วยความจำซึ่งอาจป้องกันไม่ให้มีการโหลดชุดข้อมูลเพิ่มเติมลงในหน่วยความจำระหว่างเวลานั้น 

เมื่อคุณเห็นเหตุการณ์ดังกล่าว คุณควรดูที่แผนภูมิอื่นๆ บนหน้าอย่างละเอียดเพื่อพิจารณาให้มากขึ้นว่าเหตุการณ์เกิดขึ้นกับหน่วยความจำใดและสาเหตุใดที่ทำให้มีการใช้หน่วยความจำจำนวนมาก และหาวิธีการโหลดสมดุลหรือปรับให้เหมาะสม หรือต้องมีการเพิ่มขนาดความจุหากจำเป็น 

วิชวลที่สองบนหน้า **B: ชุดข้อมูลที่ใช้งานอยู่เป็นรายชั่วโมง** แสดงจำนวนสูงสุดของชุดข้อมูลที่โหลดในหน่วยความจำในกลุ่มรายชั่วโมง 

วิชวลที่สาม **C: สาเหตุที่ชุดข้อมูลในหน่วยความจำ** คือตารางที่แสดงรายการชุดข้อมูลตามชื่อพื้นที่ทำงาน ชื่อชุดข้อมูล ขนาดที่ไม่มีการบีบอัดในหน่วยความจำอธิบายเหตุผลที่จะโหลดในหน่วยความจำ (เช่นการรีเฟรชหรือการคิวรีหรือทั้งสองอย่าง)

#### <a name="diagnosing-scenario-one"></a>วินิจฉัยสถานการณ์ที่หนึ่ง

การใช้หน่วยความจำที่ใช้งานสูงที่สอดคล้องกันอาจส่งผลให้ชุดข้อมูลที่กำลังใช้งานถูกนำออก หรือป้องกันไม่ให้ชุดข้อมูลใหม่สามารถโหลดได้ ขั้นตอนต่อไปนี้สามารถช่วยให้คุณวิเคราะห์ปัญหาได้

1. ลองดูที่แผนภูมิ *A: เปอร์เซ็นต์ความจำที่ใช้*

    **a.** ถ้าแผนภูมิ A แสดงการข้ามเกณฑ์การแจ้งเตือน (90%) หลายครั้งและ/หรือหลายชั่วโมงติดต่อกันแล้ว ความจุของคุณกำลังทำงานในหน่วยความจำต่ำบ่อยครั้งเกินไป ในแผนภูมิด้านล่าง เราจะเห็นว่ามีการข้ามค่าเกณฑ์คำเตือน (70%) สี่ครั้ง

    ![แผนภูมิ a เปอร์เซ็นต์ความจำที่ใช้](media/service-premium-metrics-app/premium-metrics-app-04.png)

    **b.** ชื่อแผนภูมิ *B: ชุดข้อมูลที่ใช้งานอยู่ซึ่งโหลดเป็นรายชั่วโมง* แสดงจำนวนสูงสุดของชุดข้อมูลที่ไม่ซ้ำกันที่โหลดในหน่วยความจำตามกลุ่มรายชั่วโมง การเลือกแถบในวิชวลจะข้ามตัวกรอง เหตุผลที่ชุดข้อมูลอยู่ในวิชวลหน่วยความจำ  

    ![แผนภูมิ b ความจำที่ใช้เป็นชั่วโมง](media/service-premium-metrics-app/premium-metrics-app-05.png)     

    **c.** ดูตาราง **สาเหตุที่ชุดข้อมูลอยู่หน่วยความจำ** เพื่อดูรายการของชุดข้อมูลที่โหลดในหน่วยความจำ เรียงลำดับตาม *ขนาดชุดข้อมูล (MB)* เพื่อให้เห็นชุดข้อมูลที่มีการใช้หน่วยความจำมากที่สุด การทำงานของความจุจะถูกจัดประเภทเป็นการทำงาน *แบบโต้ตอบ* หรือ *การทำงานแบบเบื้องหลัง* การทำงานแบบโต้ตอบประกอบด้วยการแสดงคำขอ และการตอบสนองโต้ตอบกับผู้ใช้ (การกรอง การคิวรีถามตอบ และอีกมากมาย) คิวรีทั้งหมดและการรีเฟรชทั้งหมดให้ข้อมูลว่ามีการทำงานแบบโต้ตอบ (คิวรี) หนัก หรือการทำงานแบบเบื้องหลัง (รีเฟรช) ที่กระทำบนชุดข้อมูลหรือไม่ คุณจะต้องเข้าใจว่าการทำงานแบบโต้ตอบจะมีความสำคัญมากกว่าการทำงานแบบเบื้องหลัง เพื่อให้แน่ใจว่าผู้ใช้จะได้รับประสบการณ์การใช้งานที่ดีที่สุด ถ้ามีทรัพยากรไม่เพียงพอ การทำงานแบบเบื้องหลังจะถูกเพิ่มไปยังคิว และได้รับการประมวลผลเมื่อเพิ่มแหล่งข้อมูล การทำงานแบบเบื้องหลัง เช่น การรีเฟรชชุดข้อมูลและฟังก์ชัน AI สามารถหยุดกลางกระบวนการได้โดยบริการของ Power BI และเพิ่มลงในคิว
    
    ![ตาราง c รายการของชุดข้อมูล](media/service-premium-metrics-app/premium-metrics-app-06.png)  

#### <a name="remedies-for-scenario-one"></a>การแก้ไขสำหรับสถานการณ์ที่หนึ่ง

คุณสามารถทำตามขั้นตอนต่อไปนี้เพื่อแก้ไขปัญหาที่เกี่ยวข้องกับสถานการณ์ที่หนึ่ง:

1. **เพิ่มขนาดความจุ** - เพิ่มขนาดความจุไปยัง SKU ถัดไปจะทำให้มีจำนวนหน่วยความจำที่มากกว่า SKU ปัจจุบันสองเท่า ทำให้บรรเทาความดันหน่วยความจำใดๆ ที่กำลังประสบอยู่

2. **ย้ายชุดข้อมูลไปยังความจุอื่น** - ถ้าคุณมีความจุอื่นที่มีหน่วยความจำมากกว่า คุณสามารถย้ายพื้นที่ทำงานที่ประกอบด้วยชุดข้อมูลขนาดใหญ่ไปยังความจุนั้นได้


### <a name="scenario-two---future-load-will-exceed-limits"></a>สถานการณ์ที่สอง - โหลดในอนาคตจะเกินขีดจำกัด

หากต้องการตรวจสอบว่ามีหน่วยความจำเพียงพอสำหรับความจุในการดำเนินการปริมาณงานที่มีหรือไม่ คุณสามารถอ้างอิงถึง **A: เปอร์เซ็นต์หน่วยความจำที่ใช้** วิชวลที่ด้านบนสุดของหน้า ซึ่งแสดงหน่วยความจำที่ใช้โดยชุดข้อมูลที่กำลังประมวลผลอยู่ และดังนั้นจึงนำออกไม่ได้ เส้นประสีดำแสดงถึงแนวโน้ม ในความจุที่มีความดันหน่วยความจำ วิชวลเดียวกันจะแสดงเส้นแนวโน้มหน่วยความจำ (เส้นประสีดำ) ที่เพิ่มขึ้นอย่างชัดเจน หมายความว่าอาจมีการป้องกันไม่ให้มีการโหลดชุดข้อมูลเพิ่มเติมลงในหน่วยความจำระหว่างเวลานั้น เส้นแนวโน้ม หรือเส้นประสีดำนั้น จะแสดงแนวโน้มของการเติบโตโดยยึดตามข้อมูลเจ็ดวัน 

![หน้ารายละเอียดหน่วยความจำที่ใช้งานอยู่](media/service-premium-metrics-app/premium-metrics-app-07.png)

#### <a name="diagnosing-scenario-two"></a>วินิจฉัยสถานการณ์ที่สอง

ในการวินิจฉัยสถานการณ์ที่สอง ให้พิจารณาดูว่าเส้นแนวโน้มแสดงแนวโน้มขึ้นไปยังค่าเกณฑ์คำเตือนหรือการแจ้งเตือนหรือไม่ 

1. พิจารณา **แผนภูมิ A:**

    ![กราฟความจำที่ใช้](media/service-premium-metrics-app/premium-metrics-app-08.png)

    **a.** ถ้าแผนภูมิแสดงความชันที่มีแนวโน้มเพิ่มขึ้น แสดงให้เห็นว่าปริมาณการใช้หน่วยความจำนั้นเพิ่มขึ้นในช่วงเจ็ดวันที่ผ่านมา

    **b.** สมมติว่ามีการเติบโตในปัจจุบันและทำนายเมื่อเส้นแนวโน้มข้ามค่าเกณฑ์การเตือน (เส้นประสีเหลือง)

    **c.** ให้ตรวจสอบเส้นแนวโน้มอย่างน้อยทุกสองวันเพื่อดูว่ายังคงมีแนวโน้มต่อเนื่องหรือไม่

#### <a name="remedies-for-scenario-two"></a>การแก้ไขสำหรับสถานการณ์ที่สอง

คุณสามารถทำตามขั้นตอนต่อไปนี้เพื่อแก้ไขปัญหาที่เกี่ยวข้องกับสถานการณ์ที่สอง:

1. **เพิ่มขนาดความจุ** - เพิ่มขนาดความจุไปยัง SKU ถัดไปจะทำให้มีจำนวนหน่วยความจำที่มากกว่า SKU ปัจจุบันสองเท่า ทำให้บรรเทาความดันหน่วยความจำใดๆ ที่กำลังประสบอยู่

2. **ย้ายชุดข้อมูลไปยังความจุอื่น** - ถ้าคุณมีความจุอื่นที่มีหน่วยความจำมากกว่า คุณสามารถย้ายพื้นที่ทำงานที่ประกอบด้วยชุดข้อมูลขนาดใหญ่ไปยังความจุนั้นได้


## <a name="the-query-waits-metric"></a>เมตริกการรอคิวรี

ประเภท **คิวรี** ระบุว่าผู้ใช้สามารถพบวิชวลรายงานที่ตอบสนองช้าหรือไม่มีการตอบสนองหรือไม่ **การรอคิวรี** คือเวลาที่คิวรีใช้เพื่อเริ่มต้นการดำเนินการจากเวลาที่ทริกเกอร์ KPI นี้จะวัดว่าคิวรีของความจุที่เลือกไว้จำนวน 25% หรือมากกว่ากำลังรอเป็นเวลา 100 มิลลิวินาทีหรือนานกว่านั้นในการปฏิบัติการ การรอคิวรีเกิดขึ้นเมื่อมี CPU ที่พร้อมใช้งานไม่เพียงพอที่จะดำเนินการคิวรีที่รอดำเนินการทั้งหมด 

![ตัววัดการรอคิวรี](media/service-premium-metrics-app/premium-metrics-app-09.png)

ตัววัดในวิชวลนี้แสดงให้เห็นว่าในเจ็ดวันล่าสุดจากเวลาที่มีการรีเฟรชรายงานครั้งสุดท้าย 17.32% ของคิวรีมีการรอมากกว่า 100 มิลลิวินาที 

เมื่อต้องการเรียนรู้รายละเอียดของ KPI การรอคิวรี ให้คลิกปุ่ม **สำรวจ** เพื่อแสดงหน้ารายงานที่มีการแสดงภาพของเมตริกที่เกี่ยวข้องและคำแนะนำการแก้ไขปัญหาในคอลัมน์ด้านขวาของหน้า คำแนะนำการแก้ไขปัญหามีสองสถานการณ์ แต่ละรายการจะให้คำอธิบายโดยละเอียดของเมตริก สถานะของความจุ และสิ่งที่คุณสามารถทำเพื่อลดปัญหา

ในลำดับต่อไป เราพูดคุยถึงสถานการณ์การรอคิวรีแต่ละสถานการณ์ในส่วนถัดไป

### <a name="scenario-one---long-running-queries-consume-cpu"></a>สถานการณ์ที่หนึ่ง - คิวรีการเรียกใช้ที่นานใช้พื้นที่ CPU

ในสถานการณ์ที่หนึ่ง คิวรีการเรียกใช้ที่นานนั้นใช้พื้นที่ CPU มากเกินไป 

คุณสามารถตรวจสอบว่าประสิทธิภาพการทำงานของรายงานที่ต่ำนั้นเกิดจากความจุที่โอเวอร์โหลดหรือเนื่องจากชุดข้อมูลหรือรายงานที่ได้รับการออกแบบไม่ดี มีหลายสาเหตุที่ทำให้คิวรีสามารถเรียกใช้ได้เป็นระยะเวลายาวนาน ซึ่งหมายความว่าใช้เวลามากกว่า 10 วินาทีในการดำเนินการจนเสร็จสิ้น ขนาดชุดข้อมูลและความซับซ้อน เช่นเดียวกับความซับซ้อนของคิวรี เป็นเพียงตัวอย่างบางส่วนของสิ่งที่สามารถทำให้เกิดการเรียกใช้คิวรีเป็นเวลานานได้ 

บนหน้ารายงาน วิชวลดังต่อไปนี้จะปรากฏขึ้น: 

* ชื่อตารางบนสุด **A: เวลาการรอสูง** แสดงรายการชุดข้อมูลที่มีคิวรีที่กำลังรออยู่ 
* **B: การกระจายเวลาการรอสูงรายชั่วโมง** แสดงการกระจายของเวลาการรอสูง 
* ชื่อแผนภูมิ **C: จำนวนคิวแบบยาวรายชั่วโมง** แสดงจำนวนคิวรีการเรียกใช้ที่นานที่ได้รับการดำเนินการ แยกตามกลุ่มรายชั่วโมง
* วิชวลสุดท้าย ตาราง **D: คิวรีการเรียกใช้ที่นาน** แสดงรายการคิวรีการเรียกใช้ที่นานและสถิติ

![หน้ารายละเอียดการรอคิวรี](media/service-premium-metrics-app/premium-metrics-app-10.png)

มีขั้นตอนที่คุณสามารถใช้เพื่อวินิจฉัยและแก้ไขปัญหาของเวลาการรอคิวรี โดยอธิบายไว้ในตอนถัดไป

#### <a name="diagnosing-scenario-one"></a>วินิจฉัยสถานการณ์ที่หนึ่ง

อันดับแรก คุณสามารถพิจารณาดูได้ว่าคิวรีการเรียกใช้ที่นานเกิดขึ้นขณะที่คิวรีของคุณอยู่ในระหว่างการรออยู่ 

![ตารางเวลาการรอสูง](media/service-premium-metrics-app/premium-metrics-app-11.png)

ดู **แผนภูมิ B** ซึ่งแสดงจำนวนคิวรีที่มีการรอมากกว่า 100 มิลลิวินาที เลือกหนึ่งคอลัมน์ที่แสดงการรอในระดับสูง

![การกระจายเวลาการรอสูง](media/service-premium-metrics-app/premium-metrics-app-12.png)

เมื่อคุณคลิกที่คอลัมน์ที่มีเวลาการรอสูง **แผนภูมิ C** มีการกรองเพื่อแสดงจำนวนคิวรีที่มีการเรียกใช้ที่นานที่ดำเนินการในช่วงเวลานั้น ซึ่งแสดงในรูปต่อไปนี้:

![จำนวนคิวรีแบบยาวรายชั่วโมง](media/service-premium-metrics-app/premium-metrics-app-13.png)

และนอกจากนี้ยังมีการกรอง **แผนภูมิ D** เพื่อแสดงคิวรีที่ทำงานอยู่ในระหว่างช่วงเวลาที่เลือกไว้

![คิวรีการเรียกใช้ที่นาน](media/service-premium-metrics-app/premium-metrics-app-14.png)

#### <a name="remedies-for-scenario-one"></a>การแก้ไขสำหรับสถานการณ์ที่หนึ่ง

นี่คือขั้นตอนที่คุณสามารถใช้เพื่อแก้ไขปัญหาจากสถานการณ์ที่หนึ่ง:

1. **เรียกใช้ PerfAnalyzer เพื่อปรับรายงานและชุดข้อมูลให้เหมาะสม** - ตัววิเคราะห์ประสิทธิภาพสำหรับรายงานจะแสดงผลของการโต้ตอบทั้งหมดบนหน้า รวมถึงระยะเวลาที่แต่ละวิชวลใช้ในการรีเฟรชและตำแหน่งที่ใช้เวลานั้น

2. **เพิ่มขนาดความจุ** - เพิ่มขนาดความจุไปยัง SKU ถัดไปจะทำให้มีจำนวน CPU พร้อมใช้งานเพิ่มเป็นสองเท่า ทำให้บรรเทาความดัน CPU ใดๆ ที่อาจทำให้คิวรีเรียกใช้งานนานได้

3. **ย้ายชุดข้อมูลไปยังความจุอื่น** - ถ้าคุณมีความจุอื่นที่มี CPU มากกว่า คุณสามารถย้ายพื้นที่ทำงานที่ประกอบด้วยชุดข้อมูลที่มีคิวรีที่กำลังรออยู่ไปยังความจุอื่นได้

### <a name="scenario-two---too-many-queries"></a>สถานการณ์ที่สอง - จำนวนคิวรีมากเกินไป

ในสถานการณ์ที่สอง มีคิวรีที่ใช้งานอยู่มากเกินไป

เมื่อจำนวนคิวรีที่จะดำเนินการเกินขีดจำกัดของความจุ คิวรีจะถูกวางอยู่ในคิวจนกว่าแหล่งข้อมูลจะพร้อมใช้งานในการดำเนินการดังกล่าว ถ้าขนาดของคิวขยายใหญ่เกินไป คิวรีในคิวนั้นสามารถรออยู่ได้มากกว่า 100 มิลลิวินาที

![สถานการณ์ที่สอง](media/service-premium-metrics-app/premium-metrics-app-15.png)


#### <a name="diagnosing-scenario-two"></a>วินิจฉัยสถานการณ์ที่สอง

จาก **ตาราง  A** เลือกชุดข้อมูลที่มีเปอร์เซ็นต์ของเวลาการรอสูง

![ตารางเวลาการรอสูง](media/service-premium-metrics-app/premium-metrics-app-16.png)

เมื่อคุณได้เลือกชุดข้อมูลที่มีเวลาการรอสูงแล้ว **แผนภูมิ B** มีการกรองเพื่อแสดงการกระจายเวลารอสำหรับคิวรีบนชุดข้อมูลนั้นในช่วงเจ็ดวันที่ผ่านมา ถัดไป เลือกหนึ่งคอลัมน์จาก **แผนภูมิ B**

![แผนภูมิการกระจายเวลาการรอสูงรายชั่วโมง](media/service-premium-metrics-app/premium-metrics-app-17.png)

**แผนภูมิ C** จะถูกกรองเพื่อแสดงความยาวของคิวในเวลาที่เลือกจากแผนภูมิ B

![ความยาวคิวของคิวรีรายชั่วโมง](media/service-premium-metrics-app/premium-metrics-app-18.png)

ถ้าความยาวของคิวได้ข้ามขีดจำกัดของ 20 แล้ว อาจเป็นไปได้ว่าคิวรีในชุดข้อมูลที่เลือกจะเกิดความล่าช้า เนื่องจากมีคิวรีมากเกินไปที่พยายามดำเนินการในเวลาเดียวกัน

![ตารางคิวรีกำลังดำเนินการ](media/service-premium-metrics-app/premium-metrics-app-19.png)

#### <a name="remedies-for-scenario-two"></a>การแก้ไขสำหรับสถานการณ์ที่สอง

คุณสามารถทำตามขั้นตอนต่อไปนี้เพื่อแก้ไขปัญหาที่เกี่ยวข้องกับสถานการณ์ที่สอง:

1. **เพิ่มขนาดความจุ** - เพิ่มขนาดความจุไปยัง SKU ถัดไปจะทำให้มีจำนวนหน่วยความจำที่มากกว่า SKU ปัจจุบันสองเท่า ทำให้บรรเทาความดันหน่วยความจำใดๆ ที่กำลังประสบอยู่

2. **ย้ายชุดข้อมูลไปยังความจุอื่น** - ถ้าคุณมีความจุอื่นที่มีหน่วยความจำมากกว่า คุณสามารถย้ายพื้นที่ทำงานที่ประกอบด้วยชุดข้อมูลขนาดใหญ่ไปยังความจุนั้นได้


## <a name="the-refresh-waits-metric"></a>เมตริกการรอรีเฟรช

เมตริก **การรอรีเฟรช** จะให้ข้อมูลเชิงลึกในเวลาที่ผู้ใช้อาจประสบข้อมูลรายงานที่เก่าหรือค้างอยู่ได้ **การรอรีเฟรช** คือเวลาที่การรีเฟรชข้อมูลรอเพื่อเริ่มต้นการดำเนิน การจากเวลาที่ถูกทริกเกอร์ตามความต้องการหรือกำหนดเวลาให้เรียกใช้ KPI นี้จะวัดค่าว่ามีการรอการรีเฟรชที่ค้างอยู่ 10% หรือมากกว่าหรือไม่ โดยทั่วไปแล้วจะเกิดการรอขึ้นเมื่อมีหน่วยความจำหรือ CPU ที่พร้อมใช้งานไม่เพียงพอ

![ตัววัดการรอรีเฟรช](media/service-premium-metrics-app/premium-metrics-app-20.png)

ตัววัดนี้แสดงให้เห็นว่าในเจ็ดวันที่ผ่านมาจากการรีเฟรชรายงานครั้งล่าสุด 3.18% ของรีเฟรชมีการรอมากกว่า 10 นาที 

เมื่อต้องการเรียนรู้รายละเอียดของ KPI **การรอรีเฟรช**  ให้คลิกปุ่ม **สำรวจ** ซึ่งแสดงหน้าที่มีเมตริกและคำแนะนำการแก้ไขปัญหาบนคอลัมน์ด้านขวาของหน้ารายงาน คำแนะนำให้คำอธิบายอย่างละเอียดเกี่ยวกับเมตริกบนหน้า และช่วยให้คุณเข้าใจสถานะของความจุ และสิ่งที่คุณสามารถทำเพื่อลดปัญหาใดก็ตาม

![เมตริกการสำรวจการรอรีเฟรช](media/service-premium-metrics-app/premium-metrics-app-21.png)

มีสองสถานการณ์ที่มีการอธิบายประกอบ ซึ่งคุณสามารถแสดงบนหน้ารายงานได้โดยการเลือก สถานการณ์ 1 หรือ สถานการณ์ 2 บนหน้านั้น ในลำดับต่อไป เราพูดคุยถึงสถานการณ์แต่ละสถานการณ์ในส่วนถัดไป

### <a name="scenario-one---not-enough-memory"></a>สถานการณ์ที่หนึ่ง - หน่วยความจำไม่เพียงพอ

ในสถานการณ์ที่หนึ่ง มีหน่วยความจำไม่เพียงพอที่จะโหลดชุดข้อมูล มีสองสถานการณ์ที่ทำให้เกิดการรีเฟรชการจำกัดผลลัพธ์ระหว่างสภาวะที่หน่วยความจำเหลือน้อย:

1. ความจำไม่เพียงพอในการโหลดชุดข้อมูล
2. การรีเฟรชถูกยกเลิกเนื่องจากการดำเนินการที่มีลำดับความสำคัญสูงกว่า 

ลำดับความสำคัญสำหรับการโหลดชุดข้อมูลมีดังต่อไปนี้:

1. คิวรีแบบโต้ตอบ
2. รีเฟรชตามความต้องการ
3. รีเฟรชตามกำหนดการ

ถ้ามีหน่วยความจำไม่เพียงพอในการโหลดชุดข้อมูลสำหรับคิวรีแบบโต้ตอบ การรีเฟรชตามกำหนดการจะหยุดและชุดข้อมูลจะถูกยกเลิกการโหลดจนกว่าจะมีหน่วยความจำพร้อมใช้งานที่เพียงพอ ถ้าไม่ได้เพิ่มหน่วยความจำเพียงพอแล้ว การรีเฟรชตามความต้องการจะหยุดลงและชุดข้อมูลจะถูกยกเลิกการโหลด

#### <a name="diagnosing-scenario-one"></a>วินิจฉัยสถานการณ์ที่หนึ่ง

ในการวิเคราะห์สถานการณ์ที่หนึ่ง อันดับแรกคือให้พิจารณาว่าการจำกัดผลลัพธ์เกิดจากหน่วยความจำที่ไม่เพียงพอ ขั้นตอนในการทำมีดังต่อไปนี้

1.    เลือกชุดข้อมูลที่คุณสนใจจาก **ตาราง  A** ด้วยการคลิกที่ตาราง: 

    ![ตาราง  A](media/service-premium-metrics-app/premium-metrics-app-22.png)

    a. เมื่อมีการเลือกชุดข้อมูลใน **ตาราง A** **แผนภูมิ B** จะถูกกรองเพื่อแสดงเวลาเมื่อมีการรอเกิดขึ้น

    ![แผนภูมิ B](media/service-premium-metrics-app/premium-metrics-app-23.png)

    b. **แผนภูมิ C** จะถูกกรองเพื่อแสดงการจำกัดผลลัพธ์ ที่จะอธิบายไว้ในขั้นตอนถัดไป 

2. ดูผลลัพธ์ใน **แผนภูมิ C** ที่กรองแล้วในขณะนี้ ถ้าแผนภูมิแสดงการจำกัดผลลัพธ์จากหน่วยความจำไม่เพียงพอที่เกิดขึ้นในช่วงเวลาที่ชุดข้อมูลกำลังรอนั้น ชุดข้อมูลกำลังรอเนื่องจากสภาวะหน่วยความจำเหลือน้อย

    ![แผนภูมิ C](media/service-premium-metrics-app/premium-metrics-app-24.png)

3. สุดท้าย ให้ตรวจสอบ **แผนภูมิ D** ซึ่งแสดงชนิดการรีเฟรชที่เกิดขึ้น โดยมีรีเฟรชตามกำหนดเวลาเทียบกับรีเฟรชตามความต้องการ การรีเฟรชตามความต้องการใดๆ ที่เกิดขึ้นในเวลาเดียวกันอาจเป็นสาเหตุของการจำกัดผลลัพธ์

    ![แผนภูมิ D](media/service-premium-metrics-app/premium-metrics-app-25.png)


#### <a name="remedies-for-scenario-one"></a>การแก้ไขสำหรับสถานการณ์ที่หนึ่ง

คุณสามารถทำตามขั้นตอนต่อไปนี้เพื่อแก้ไขปัญหาที่เกี่ยวข้องกับสถานการณ์ที่หนึ่ง:

1. **เพิ่มขนาดความจุ** - เพิ่มขนาดความจุไปยัง SKU ถัดไปจะทำให้มีจำนวนหน่วยความจำที่มากกว่า SKU ปัจจุบันสองเท่า ทำให้บรรเทาความดันหน่วยความจำ และ CPU ใดๆ ที่กำลังประสบอยู่

2. **ย้ายชุดข้อมูลไปยังความจุอื่น** - ถ้าเวลาการรอของคุณเกิดจากความดันหน่วยความจำและคุณมีความจุอื่นที่มีหน่วยความจำมากกว่า คุณสามารถย้ายพื้นที่ทำงานที่ประกอบด้วยชุดข้อมูลที่กำลังรออยู่ไปยังความจุอื่นได้

3. **กระจายการรีเฟรชตามกำหนดเวลา** - การกระจายการรีเฟรชจะช่วยให้คุณสามารถหลีกเลี่ยงการรีเฟรชจำนวนมากเกินไปที่พยายามดำเนินการพร้อมๆ กัน



### <a name="scenario-two---not-enough-cpu-for-refresh"></a>สถานการณ์ที่สอง - มี CPU ไม่เพียงพอในการรีเฟรช

ในสถานการณ์ที่สอง มี CPU ที่พร้อมใช้งานไม่เพียงพอที่จะดำเนินการรีเฟรช 

สำหรับความจุเฉพาะ Power BI จำกัดจำนวนการรีเฟรชที่สามารถเกิดขึ้นได้พร้อมๆ กัน ตัวเลขนี้เท่ากับจำนวนของแกนประมวลผล back-end x 1.5 ตัวอย่างเช่น ความจุเฉพาะ P1 ซึ่งมีแกนประมวลผล back-end สี่แกน จะสามารถเรียกใช้งานรีเฟรชได้ 6 รายการพร้อมๆ กัน เมื่อถึงจำนวนสูงสุดของการรีเฟรชพร้อมกันแล้ว การรีเฟรชอื่นๆ จะรอจนกว่าการดำเนินการเสร็จสิ้น

![สถานการณ์ที่สองสำหรับรีเฟรช](media/service-premium-metrics-app/premium-metrics-app-26.png)

#### <a name="diagnosing-scenario-two"></a>วินิจฉัยสถานการณ์ที่สอง

ในการวินิจฉัยสถานการณ์ที่สอง ก่อนอื่นให้พิจารณาว่าการจำกัดผลลัพธ์เกิดจากการทำงานถึงภาวะพร้อมกันระดับสูงสุดสำหรับการรีเฟรชหรือไม่ ขั้นตอนในการทำมีดังต่อไปนี้

1.    เลือกชุดข้อมูลที่คุณสนใจจาก **ตาราง  A** ด้วยการคลิกที่ตาราง: 

    ![ตาราง  A](media/service-premium-metrics-app/premium-metrics-app-22.png)

    a. เมื่อมีการเลือกชุดข้อมูลใน **ตาราง A** **แผนภูมิ B** จะถูกกรองเพื่อแสดงเวลาเมื่อมีการรอเกิดขึ้น

    ![แผนภูมิ B](media/service-premium-metrics-app/premium-metrics-app-23.png)

    b. **แผนภูมิ C** จะถูกกรองเพื่อแสดงการจำกัดผลลัพธ์ ที่จะอธิบายไว้ในขั้นตอนถัดไป 

2. ดูผลลัพธ์ใน **แผนภูมิ C** ที่กรองแล้วในขณะนี้ ถ้าแผนภูมิแสดง *ภาวะพร้อมกันระดับสูงสุด* เกิดขึ้นในช่วงเวลาที่ชุดข้อมูลกำลังรอนั้น ชุดข้อมูลกำลังรอเนื่องจากมี CPU ไม่เพียงพอ

    ![แผนภูมิ C](media/service-premium-metrics-app/premium-metrics-app-24.png)

3. สุดท้าย ให้ตรวจสอบ **แผนภูมิ D** ซึ่งแสดงชนิดการรีเฟรชที่เกิดขึ้น โดยมีรีเฟรชตามกำหนดเวลาเทียบกับรีเฟรชตามความต้องการ การรีเฟรชตามความต้องการใดๆ ที่เกิดขึ้นในเวลาเดียวกันอาจเป็นสาเหตุของการจำกัดผลลัพธ์

    ![แผนภูมิ D](media/service-premium-metrics-app/premium-metrics-app-25.png)


#### <a name="remedies-for-scenario-two"></a>การแก้ไขสำหรับสถานการณ์ที่สอง

1. **เพิ่มขนาดความจุ** - เพิ่มขนาดความจุไปยัง SKU ถัดไปจะทำให้มีจำนวนหน่วยความจำและมีจำนวนครั้งที่มีการรีเฟรชพร้อมกันที่มากกว่า SKU ปัจจุบันสองเท่า ทำให้บรรเทาความดันหน่วยความจำ และ CPU ใดๆ ที่กำลังประสบอยู่

2. **ย้ายชุดข้อมูลไปยังความจุอื่น** - ถ้าเวลาการรอของคุณเกิดจากการทำงานถึงภาวะพร้อมกันระดับสูงสุดและคุณมีความจุอื่นที่มีภาวะพร้อมกันมากกว่า คุณสามารถย้ายพื้นที่ทำงานที่ประกอบด้วยชุดข้อมูลที่ที่กำลังรออยู่ไปยังความจุอื่นได้

3. **กระจายการรีเฟรชตามกำหนดเวลา** - การกระจายการรีเฟรชจะช่วยให้คุณสามารถหลีกเลี่ยงการรีเฟรชจำนวนมากเกินไปที่พยายามดำเนินการพร้อมๆ กัน



## <a name="next-steps"></a>ขั้นตอนถัดไป

* [Power BI Premium คืออะไร?](service-premium-what-is.md)
* [บันทึกย่อประจำรุ่นของ Power BI Premium](../service-premium-release-notes.md)
* [เอกสารทางเทคนิคเรื่อง Microsoft Power BI Premium](https://aka.ms/pbipremiumwhitepaper)
* [เอกสารทางเทคนิคเรื่องการวางแผนการใช้ Power BI สำหรับองค์กร](https://aka.ms/pbienterprisedeploy)
* [เปิดใช้งานเวอร์ชันทดลองใช้ Extended Pro ](../service-extended-pro-trial.md)
* [คำถามที่พบบ่อยสำหรับ Power BI Embedded](../developer/embedded/embedded-faq.md)

มีคำถามเพิ่มเติมหรือไม่ [ลองถามชุมชน Power BI](https://community.powerbi.com/)