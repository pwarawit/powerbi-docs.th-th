---
title: ตรวจสอบประสิทธิภาพของรายงานใน Power BI
description: คำแนะนำเกี่ยวกับวิธีการตรวจสอบประสิทธิภาพการทำงานของรายงานใน Power BI
author: peter-myers
manager: asaxton
ms.reviewer: asaxton
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 02/16/2020
ms.author: v-pemyer
ms.openlocfilehash: 9245dd6c25917b2c8c861ea5b83710cd8b52bb22
ms.sourcegitcommit: 0e9e211082eca7fd939803e0cd9c6b114af2f90a
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/13/2020
ms.locfileid: "83279031"
---
# <a name="monitor-report-performance-in-power-bi"></a>ตรวจสอบประสิทธิภาพของรายงานใน Power BI

ตรวจสอบประสิทธิภาพการทำงานของรายงานใน Power BI Desktop โดยใช้แอป [Power BI Premium Metrics](../admin/service-premium-metrics-app.md) และหาตำแหน่งที่ทีการทำงานระดับคอขวดและเรียนรู้วิธีการที่คุณจะสามารถปรับปรุงประสิทธิภาพการทำงานของรายงาน

การตรวจสอบประสิทธิภาพการทำงานเกี่ยวข้องกันในสถานการณ์ต่อไปนี้:

- การรีเฟรชโมเดลข้อมูลการนำเข้าของคุณช้าลง
- รายงาน DirectQuery หรือการเชื่อมต่อสดของคุณช้าลง
- การคำนวณแบบจำลองของคุณช้าลง

คิวรีที่ช้าหรือการแสดงผลด้วยภาพของรายงานควรมีเป้าหมายในการปรับให้เหมาะสมอย่างต่อเนื่อง

## <a name="use-query-diagnostics"></a>การวินิจฉัยคิวรี

ใช้[การวินิจฉัยคิวรี](/power-query/QueryDiagnostics)ใน Power BI Desktop เพื่อกำหนดว่า Power Query จะทำอะไรบ้างในขณะที่แสดงตัวอย่างหรือใช้คิวรี นอกจากนี้ ให้ใช้ฟังก์ชัน_วินิจฉัยขั้นตอน_เพื่อบันทึกข้อมูลการประเมินผลโดยละเอียดสำหรับแต่ละขั้นตอนคิวรี ผลลัพธ์จะมีให้ใช้งานใน Power Query และคุณสามารถใช้การแปลงข้อมูลเพื่อทำความเข้าใจการดำเนินการคิวรีได้ดียิ่งขึ้น

> [!NOTE]
> การวินิจฉัยคิวรีเป็นฟีเจอร์แสดงตัวอย่าง ดังนั้นคุณต้องเปิดใช้งานใน_ตัวเลือกและการตั้งค่า_ เมื่อเปิดใช้งาน คำสั่งจะพร้อมใช้งานในหน้าต่างตัวแก้ไข Power Query บนแท็บ ribbon **เครื่องมือ**

![ภาพแสดงแถบ ribbon เครื่องมือตัวแก้ไข Power Query Ribbon แสดงคำสั่งวินิจฉัยขั้นตอน การเริ่มต้นคำสั่งการวินิจฉัย และคำสั่งหยุดการวินิจฉัย](media/monitor-report-performance/power-query-diagnotics.png)

## <a name="use-performance-analyzer"></a>ใช้ตัววิเคราะห์ประสิทธิภาพ

ใช้[ตัววิเคราะห์ประสิทธิภาพ](../create-reports/desktop-performance-analyzer.md)ใน Power BI Desktop เพื่อดูว่าแต่ละองค์ประกอบรายงานของคุณเช่น การแสดงผลด้วยภาพและสูตร DAX กำลังทำอะไรอยู่ ซึ่งเป็นประโยชน์โดยเฉพาะอย่างยิ่งในการตรวจสอบว่าเป็นคิวรีหรือการแสดงผลด้วยภาพที่มีการรองรับปัญหาด้านประสิทธิภาพการทำงาน

## <a name="use-sql-server-profiler"></a>ใช้ตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL

คุณยังสามารถใช้[ตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL](/sql/tools/sql-server-profiler/sql-server-profiler) เพื่อระบุคิวรีที่ช้าได้

> [!NOTE]
> ตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL มีให้ใช้งานเป็นส่วนหนึ่งของ [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms)

ใช้ตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL เมื่อแหล่งข้อมูลของคุณเป็น:

- SQL Server
- SQL Server Analysis Services
- Azure Analysis Services

> [!CAUTION]
> Power BI Desktop รองรับการเชื่อมต่อไปยังพอร์ตการวินิจฉัย พอร์ตการวินิจฉัยอนุญาตให้เครื่องมืออื่นๆ เชื่อมต่อและดำเนินการติดตามเพื่อการวินิจฉัยได้ การเปลี่ยนแปลงใดๆ กับรูปแบบข้อมูล Power Desktop ไม่ได้รับการรองรับ การเปลี่ยนแปลงโมเดลข้อมูลอาจทำให้เกิดความเสียหายและการสูญหายของข้อมูล

เมื่อต้องการสร้างการติดตามของตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL ให้ทำตามคำแนะนำเหล่านี้:

1. เปิดรายงาน Power BI Desktop ของคุณ (เพื่อให้ง่ายต่อการค้นหาพอร์ตในขั้นตอนถัดไป และปิดรายงานอื่นๆ ที่เปิดอยู่)
1. หากต้องการกำหนดพอร์ตที่ใช้โดย Power BI Desktop ใน PowerShell (พร้อมสิทธิ์ผู้ดูแลระบบ) หรือที่พร้อมท์คำสั่ง  ให้ป้อนคำสั่งต่อไปนี้:
    ```powershell
    netstat -b -n
    ```
    ผลลัพธ์ควรเป็นรายการของแอปพลิเคชันและพอร์ตที่เปิด ตัวอย่างเช่น: ค้นหาพอร์ตที่ใช้โดย **msmdsrv.exe** และบันทึกไว้ใช้ในภายหลัง นี่คืออินสแตนซ์ของ Power BI Desktop ของคุณ
1. เชื่อมต่อตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL ไปยัง Power BI Desktop
    1. ใช้ตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL
    1. ในตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL บนเมนู _ไฟล์_ ให้เลือก_การติดตามใหม่_
    1. สำหรับ**ชนิดเซิร์ฟเวอร์** ให้เลือก_บริการวิเคราะห์_
    1. สำหรับ **ชื่อเซิร์ฟเวอร์** ให้ป้อน_localhost: [พอร์ตที่บันทึกไว้ก่อนหน้านี้]_
    1. คลิก _เรียกใช้_ – ตอนนี้การติดตามของตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL นั้นยังทำงานอยู่และกำลังสร้างโพรไฟล์คิวรี Power BI Desktop อย่างต่อเนื่อง
1. เมื่อดำเนินการคิวรี Power BI Desktop คุณจะเห็นระยะเวลาและเวลาของ CPU ที่เกี่ยวข้อง โดยขึ้นอยู่กับชนิดแหล่งข้อมูล คุณอาจเห็นเหตุการณ์อื่นๆ ที่ระบุวิธีดำเนินการคิวรี โดยการใช้ข้อมูลนี้ คุณสามารถกำหนดว่าคิวรีใดที่เป็นระดับคอขวดได้

ประโยชน์ของการใช้ตัวสร้างโพรไฟล์ของเซิร์ฟเวอร์ SQL คือคุณสามารถบันทึกการติดตามฐานข้อมูลเซิร์ฟเวอร์ SQL (เชิงสัมพันธ์) ได้ การติดตามสามารถเป็นข้อมูลป้อนเข้าไปยัง[โปรแกรมช่วยแนะนำการปรับแต่งกลไกจัดการฐานข้อมูล](/sql/relational-databases/performance/start-and-use-the-database-engine-tuning-advisor)ได้ ด้วยวิธีนี้ คุณจะได้รับคำแนะนำเกี่ยวกับวิธีการปรับแต่งแหล่งข้อมูลของคุณ

## <a name="monitor-premium-metrics"></a>ตรวจสอบเมตริกพรีเมี่ยม

สำหรับความจุ Power BI Premium คุณสามารถใช้**แอปเมตริก Power BI Premium** เพื่อจัดการประสิทธิภาพและความจุของการสมัครใช้งาน Power BI Premium ของคุณได้ สำหรับข้อมูลเพิ่มเติม ให้ดู[แอปเมตริก Power BI Premium](../admin/service-premium-metrics-app.md)

## <a name="next-steps"></a>ขั้นตอนถัดไป

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับบทความนี้ โปรดดูทรัพยากรต่อไปนี้:

- [การวินิจฉัยแบบคิวรี](/power-query/QueryDiagnostics)
- [ตัววิเคราะห์ประสิทธิภาพ](../create-reports/desktop-performance-analyzer.md)
- [วิธีแก้ไขปัญหาประสิทธิภาพของรายงานใน Power BI](report-performance-troubleshoot.md)
- [แอปเมตริก Power BI Premium](../admin/service-premium-metrics-app.md)
- มีคำถามหรือไม่ [ลองถามชุมชน Power BI](https://community.powerbi.com/)
- มีข้อเสนอแนะไหม [สนับสนุนแนวคิดในการปรับปรุง Power BI](https://ideas.powerbi.com/)
