---
title: 'DAX: หลีกเลี่ยงการแปลง BLANK ไปเป็นค่า'
description: คำแนะนำในการแปลง BLANK ไปเป็นค่า
author: peter-myers
ms.reviewer: asaxton
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 11/24/2019
ms.author: v-pemyer
ms.openlocfilehash: aea24e96acadbf9fee9e6dbf3aa395e09ef8e541
ms.sourcegitcommit: 0e9e211082eca7fd939803e0cd9c6b114af2f90a
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 05/13/2020
ms.locfileid: "83279652"
---
# <a name="dax-avoid-converting-blanks-to-values"></a>DAX: หลีกเลี่ยงการแปลง BLANK ไปเป็นค่า

ในฐานะผู้สร้างแบบจำลองข้อมูล เมื่อเขียนนิพจน์หน่วยวัด คุณอาจเจอกรณีที่ไม่สามารถส่งกลับค่าที่มีนัยสำคัญ ในกรณีเหล่านี้ คุณอาจถูกล่อลวงให้คืนค่า เช่น ศูนย์แทน เราแนะนำให้คุณพิจารณาอย่างรอบคอบว่าการออกแบบนี้มีประสิทธิภาพและใช้งานได้จริงหรือไม่

พิจารณาข้อกำหนดหน่วยวัดต่อไปนี้ที่แปลงผลลัพธ์ BLANK เป็นศูนย์อย่างชัดเจน

```dax
Sales (No Blank) =
IF(
    ISBLANK([Sales]),
    0,
    [Sales]
)
```

พิจารณาข้อกำหนดหน่วยวัดอื่นที่แปลงผลลัพธ์ BLANK เป็นศูนย์ด้วย

```dax
Profit Margin =
DIVIDE([Profit], [Sales], 0)
```

ฟังก์ชัน [DIVIDE](/dax/divide-function-dax) หารหน่วยวัด **กำไร** ด้วยหน่วยวัด **ยอดขาย** หากผลลัพธ์เป็นศูนย์หรือ BLANK อาร์กิวเมนต์ที่สาม - ผลลัพธ์อื่น (ซึ่งเป็นทางเลือก) - ถูกส่งกลับ ในตัวอย่างนี้ เนื่องจากมีการส่งผ่านศูนย์เป็นผลลัพธ์ทางเลือก ดังนั้นหน่วยวัดนั้นจึงรับประกันว่าจะส่งกลับค่าเสมอ

การออกแบบหน่วยวัดเหล่านี้จะไม่มีประสิทธิภาพและนำไปสู่การออกแบบรายงานที่ไม่ดี

เมื่อมีการเพิ่มการออกแบบเหล่านี้ลงในวิชวลรายงาน Power BI จะพยายามเรียกใช้การจัดกลุ่มทั้งหมดภายในบริบทตัวกรอง การประเมินผลและการดึงผลลัพธ์ของคิวรีที่มีขนาดใหญ่มักจะนำไปสู่การแสดงรายงานที่ล่าช้า ตัวอย่างหน่วยวัดแต่ละหน่วยจะเปลี่ยนการคำนวณแบบเบาบางไปเป็นการคำนวณที่หนาแน่น บังคับให้ Power BI ใช้หน่วยความจำมากกว่าที่จำเป็น

นอกจากนี้ การจัดกลุ่มมากเกินไปมักจะครอบงำผู้ใช้รายงานของคุณ

เรามาดูกันว่าจะเกิดอะไรขึ้นเมื่อมีการเพิ่มหน่วยวัด **อัตรากำไร** ในตารางวิชวล การจัดกลุ่มตามลูกค้า

![ตารางวิชวลประกอบด้วยสามคอลัมน์: ลูกค้า ยอดขาย และอัตรากำไร ตารางจะแสดงข้อมูลประมาณ 10 แถว แต่แถบเลื่อนแนวตั้งแสดงว่ามีแถวอีกมากมายที่สามารถแสดงได้ คอลัมน์ยอดขายไม่แสดงค่าใด ๆ คอลัมน์อัตรากำไรแสดงเฉพาะศูนย์เท่านั้น](media/dax-avoid-converting-blank/table-visual-poor.png)

วิชวลของตารางแสดงจำนวนแถวมากมาย (ในความเป็นจริงแล้วมีลูกค้า 18,484 รายในแบบจำลอง ดังนั้นตารางจึงพยายามแสดงทั้งหมด) โปรดสังเกตว่าลูกค้าในมุมมองยังไม่ได้ทำให้เกิดยอดขายใดเลย ทว่าเนื่องจากหน่วยวัด **อัตรากำไร** จะส่งกลับค่าเสมอ ดังนั้นจึงมีการแสดงค่า

> [!NOTE]
> เมื่อมีจุดข้อมูลที่ต้องการแสดงในวิชวลมากเกินไป Power BI อาจใช้กลยุทธ์ด้านการลดขนาดข้อมูลเพื่อลบหรือสรุปผลลัพธ์คิวรีขนาดใหญ่ สำหรับข้อมูลเพิ่มเติม โปรดดู [ข้อจำกัดและกลยุทธ์ของจุดข้อมูลตามรูปแบบของวิชวล](../visuals/power-bi-data-points.md)

เรามาดูว่าจะเกิดอะไรขึ้นเมื่อมีการปรับปรุงข้อกำหนดหน่วยวัด **อัตรากำไร** ในตอนนี้จะส่งกลับค่าเฉพาะเมื่อหน่วยวัด **ยอดขาย** ไม่เป็น BLANK (หรือศูนย์)

```dax
Profit Margin =
DIVIDE([Profit], [Sales])
```

ขณะนี้วิชวลตารางจะแสดงเฉพาะลูกค้าที่สร้างยอดขายภายในบริบทตัวกรองปัจจุบัน หน่วยวัดที่ปรับปรุงใหม่ส่งผลให้ผู้ใช้รายงานของคุณมีประสบการณ์ที่มีประสิทธิภาพมากขึ้นและใช้งานได้จริง

![ขณะนี้วิชวลตารางเดียวกันจะแสดงข้อมูลสี่แถว แต่ละแถวใช้สำหรับลูกค้าที่มีมูลค่ายอดขายและค่าอัตรากำไรไม่เป็นศูนย์](media/dax-avoid-converting-blank/table-visual-good.png)

> [!TIP]
> เมื่อจำเป็น คุณสามารถกำหนดค่าวิชวลเพื่อแสดงการจัดกลุ่มทั้งหมด (ที่ส่งกลับค่าหรือค่า BLANK) ภายในบริบทของตัวกรองได้โดยการเปิดใช้งานตัวเลือก [แสดงรายการโดยไม่มีข้อมูล](../create-reports/desktop-show-items-no-data.md)

## <a name="recommendation"></a>คำแนะนำ

เราขอแนะนำให้หน่วยวัดของคุณส่งกลับค่า BLANK เมื่อไม่สามารถส่งกลับค่าที่มีนัยสำคัญ

วิธีการออกแบบนี้มีประสิทธิภาพ ช่วยให้ Power BI สามารถแสดงรายงานได้เร็วขึ้น นอกจากนี้การส่งกลับค่า BLANK จะดีกว่าเนื่องจากวิชวลบรายงานตามค่าเริ่มต้นจะลบการจัดกลุ่มออกไปเมื่อผลสรุปเป็น BLANK

## <a name="next-steps"></a>ขั้นตอนถัดไป

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับบทความนี้ โปรดดูทรัพยากรต่อไปนี้:

- [ข้อมูลอ้างอิงเกี่ยวกับ Data Analysis Expressions (DAX)](/dax/)
- มีคำถามหรือไม่ [ลองถามชุมชน Power BI](https://community.powerbi.com/)

