---
title: ใช้แบบจำลองแบบรวมใน Power BI Desktop
description: สร้างโมเดลข้อมูลที่มีการเชื่อมต่อข้อมูลและความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่มมากกว่าหนึ่งแห่งใน Power BI Desktop
author: davidiseminger
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.subservice: powerbi-desktop
ms.topic: conceptual
ms.date: 08/19/2019
ms.author: davidi
LocalizationGroup: Transform and shape data
ms.openlocfilehash: aef50d58dc11269c2c30010c1ca89843689f45c4
ms.sourcegitcommit: 2aa83bd53faad6fb02eb059188ae623e26503b2a
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 10/29/2019
ms.locfileid: "73017677"
---
# <a name="use-composite-models-in-power-bi-desktop"></a>ใช้แบบจำลองแบบรวมใน Power BI Desktop

ก่อนหน้านี้ใน Power BI Desktop เมื่อคุณใช้ DirectQuery ในรายงาน คุณจะไม่สามารถมีการเชื่อมต่อข้อมูลอื่น ไม่ว่าจะเป็น DirectQuery หรือนำเข้าในรายงานนั้นได้ ด้วยโมเดลแบบรวม ข้อกำจัดจะหายไป รายงานจะสามารถรวมการเชื่อมต่อข้อมูลจากการเชื่อมต่อข้อมูล DirectQuery หรือนำเข้าได้มากกว่าหนึ่งแห่ง ในแบบใด ๆ ที่คุณเลือก

![โมเดลแบบรวมใน Power BI Desktop](media/desktop-composite-models/composite-models_01.png)

ความสามารถโมเดลแบบรวมใน Power BI Desktop ประกอบด้วยคุณลักษณะสามอย่างที่เกี่ยวข้องกัน:

* **โมเดลแบบรวม**: อนุญาตให้รายงานมีการเชื่อมต่อข้อมูลหลายแบบ รวมถึงการเชื่อมต่อ DirectQuery หรือการนำเข้าในรูปแบบใดๆ ก็ตาม บทความนี้จะอธิบายโมเดลแบบรวมโดยละเอียด

* **ความสัมพันธ์แบบกลุ่มต่อกลุ่ม**: ด้วย *โมเดลแบบรวม* คุณสามารถสร้าง *ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่ม* ระหว่างตารางได้ วิธีการนี้จะลบขอคำสำหรับค่าเฉพาะในตาราง นอกจากนี้ยังลบการแก้ปัญหาชั่วคราวก่อนหน้า เช่น การเริ่มตารางใหม่เพื่อสร้างความสัมพันธ์เท่านั้น สำหรับข้อมูลเพิ่มเติม โปรดดู [ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่มใน Power BI Desktop (ตัวอย่าง)](desktop-many-to-many-relationships.md)

* **โหมดการจัดเก็บข้อมูล**: คุณสามารถระบุวิชวลที่ต้องการคิวรีไปยังแหล่งข้อมูลระบบ Back-end ได้ วิชวลที่ไม่ต้องใช้คิวรีจะถูกนำเข้าแม้ว่าจะมาจาก DirectQuery คุณลักษณะนี้จะช่วยปรับปรุงประสิทธิภาพ และลดการโหลดระบบ Back-end ก่อนหน้านี้ แม้กระทั่งวิชวลพื้นฐานอย่างตัวแบ่งข้อมูล ก็เริ่มคิวรีที่ถูกส่งไปยังแหล่งระบบ Back-end สำหรับข้อมูลเพิ่มเติม โปรดดู [โหมดที่เก็บข้อมูลใน Power BI Desktop (ตัวอย่าง)](desktop-storage-mode.md)


## <a name="use-composite-models"></a>ใช้โมเดลแบบรวม

ด้วยโมเดลแบบรวม คุณสามารถเชื่อมต่อไปยังแหล่งข้อมูลหลากหลายเมื่อคุณใช้ Power BI Desktop หรือ Power BI service คุณสามารถสร้างการเชื่อมต่อข้อมูลเหล่านี้ได้สองวิธี:

* โดยการนำเข้าข้อมูลไปยัง Power BI ซึ่งเป็นวิธีทั่วไปในการรับข้อมูล
* โดยการเชื่อมต่อโดยตรงไปยังข้อมูลในคลังแหล่งข้อมูลเดิมโดยการใช้ DirectQuery หากต้องการเรียนรู้เพิ่มเติมเกี่ยวกับ DirectQuery โปรดดู [ใช้ DirectQuery ใน Power BI](desktop-directquery-about.md)

เมื่อคุณใช้ DirectQuery *แบบจำลองแบบรวม*ช่วยให้คุณสามารถสร้างแบบจำลอง Power BI (อย่างเช่นไฟล์ Power BI Desktop *.pbix* เดี่ยว ๆ) ที่ทำงานดังต่อไปนี้ได้:

* รวมข้อมูลจากแหล่งที่มา DirectQuery หนึ่งแห่งขึ้นไป
* รวมข้อมูลจากแหล่งที่มา DirectQuery และนำเข้าข้อมูล

ตัวอย่างเช่น โดยการใช้โมเดลแบบรวม คุณสามารถสร้างโมเดลที่รวมประเภทของข้อมูลดังต่อไปนี้:

* ข้อมูลการขายจากคลังข้อมูลวิสาหกิจ
* ข้อมูลเป้าหมายการขายจากฐานข้อมูลแผนก SQL Server
* ข้อมูลที่นำเข้าจากสเปรดชีต 

โมเดลที่รวมข้อมูลจากแหล่งที่มา DirectQuery มากกว่าหนึ่งแห่ง หรือรวม DirectQuery เข้ากับข้อมูลที่นำเข้ามีชื่อว่า*โมเดลแบบรวม*


คุณสามารถสร้างความสัมพันธ์ระหว่างตารางได้ในขณะที่คุณมีอยู่เสมอแม้ว่าตารางเหล่านั้นมาจากแหล่งข้อมูลที่แตกต่างกัน ความสัมพันธ์ใดก็ตามที่เป็นความสัมพันธ์แบบข้ามแหล่งข้อมูลจะถูกสร้างขึ้นด้วยคาร์ดินาลลิตี้ *แบบกลุ่มต่อกลุ่ม*โดยไม่คำนึงถึงคาร์ดินาลลิตี้ที่แท้จริง คุณสามารถเปลี่ยนเป็นแบบหนึ่งต่อกลุ่ม, กลุ่มต่อหนึ่ง หรือหนึ่งต่อหนึ่งได้ แล้วแต่คาร์ดินาลลิตี้ที่คุณตั้งค่าไว้ ความสัมพันธ์แบบข้ามแหล่งข้อมูลมีลักษณะการทำงานที่แตกต่างกันในกรณีที่คุณไม่สามารถใช้ฟังก์ชัน DAX เพื่อดึงค่าในด้านหนึ่งจากหลายด้าน นอกจากนี้ คุณอาจเห็นผลกระทบต่อประสิทธิภาพการทำงานเทียบกับความสัมพันธ์แบบกลุ่มต่อกลุ่มภายในแหล่งข้อมูลเดียวกัน

> [!NOTE]
> ภายในบริบทของโมเดลแบบรวม ตารางนำเข้าทั้งหมดจะเป็นแหล่งเดียว โดยไม่คำนึงถึงแหล่งข้อมูลเบื้องต้นจากที่นำเข้ามา   

## <a name="example-of-a-composite-model"></a>ตัวอย่างของโมเดลแบบรวม

ตัวอย่างของ *โมเดลแบบรวม* พิจารณารายงานที่เชื่อมต่อกับคลังข้อมูลบริษัทใน SQL Server โดยการใช้ DirectQuery ในตัวอย่างนี้ คลังข้อมูลบรรจุข้อมูล *การขายตามประเทศ*, *ไตรมาส* และ *จักรยาน (ผลิตภัณฑ์)* ดังแสดงในภาพต่อไปนี้:

![มุมมองความสัมพันธ์สำหรับโมเดลแบบรวม](media/desktop-composite-models/composite-models_04.png)

ณ จุดนี้คุณสามารถสร้างภาพง่ายๆ โดยการใช้เขตข้อมูลจากแหล่งที่มานี้ ตัวอย่างเช่น ภาพต่อไปนี้แสดงการขายทั้งหมดตาม *ProductName* สำหรับไตรมาสที่เลือก 

![วิชวลที่อิงจากข้อมูล](media/desktop-composite-models/composite-models_05.png)

แต่หากคุณมีข้อมูลในสเปรดชีตของ Office Excel เกี่ยวกับผู้จัดการผลิตภัณฑ์ที่กำหนดแต่ละผลิตภัณฑ์พร้อมกับลำดับความสำคัญทางการตลาดล่ะ? หากคุณต้องการดู *จำนวนการขาย* โดย *ผู้จัดการผลิตภัณฑ์* อาจไม่มีความเป็นไปได้ที่จะเพิ่มข้อมูท้องถิ่นนี้ไปยังคลังข้อมูลบริษัท หรืออาจใช้เวลาอย่างน้อยเป็นเดือน 

อาจไม่มีความเป็นไปได้ในการนำเข้าข้อมูลการขายจากคลังข้อมูลแทนการใช้ DirectQuery และข้อมูลการขายอาจถูกรวมกับข้อมูลที่คุณนำเข้าจากสเปรดชีต อย่างไรก็ตาม วิธีการนี้ไม่สมเหตุสมผลสำหรับสาเหตุที่นำไปสู่การใช้ DirectQuery ตั้งแต่แรก สาเหตุอาจรวมถึง:

* บางการรวมของกฎความปลอดภัยบังคับใช้ในแหล่งข้อมูลเบื้องต้น
* ความจำเป็นเพื่อที่จะสามารถดูข้อมูลล่าสุด
* ขนาดจำนวนมากของข้อมูล 

และนี่คือจุดที่ โมเดลแบบรวม เข้ามาช่วย โมเดลแบบรวมช่วยให้คุณเชื่อมต่อกับคลังข้อมูลโดยใช้ DirectQuery และจากนั้นยังใช้ GetData สำหรับแหล่งที่มาเพิ่มเติม ในตัวอย่างนี้ เราจะสร้างการเชื่อต่อ DirectQuery ไปยังคลังข้อมูลบริษัทเป็นอันดับแรก ให้ใช้ GetData เลือก Excel จากนั้นนำทางไปยังสเปรดชีตที่มีข้อมูลท้องถิ่น สุดท้ายนำเข้าสเปรดชีตที่มี *ชื่อผลิตภัณฑ์*, *ผู้จัดการการขาย* ที่กำหนด และ *ลำดับความสำคัญ*  

![หน้าต่างตัวนำทาง](media/desktop-composite-models/composite-models_06.png)

ในรายการ **เขตข้อมูล** คุณจะเห็นสองตาราง: ตาราง *จักรยาน* เดิมจาก SQL Server และตาราง **ProductManagers** ตารางใหม่จะมีข้อมูลที่นำเข้าจาก Excel 

![มุมมองเขตข้อมูลของตาราง](media/desktop-composite-models/composite-models_07.png)

ในทำนองเดียวกัน ในมุมมอง **ความสัมพันธ์** ใน Power BI Desktop เราจะเห็นตารางเพิ่มเติมที่มีชื่อว่า **ProductManagers** 

![มุมมองความสัมพันธ์ของตาราง](media/desktop-composite-models/composite-models_08.png)

เราต้องการเชื่อมตารางเหล่านี้ไปยังตารางอื่นๆ ในโมเดล เช่นเคย เราสร้างความสัมพันธ์ระหว่างตาราง **จักรยาน** จาก SQL Server และตารางนำเข้า **ProductManagers** กล่าวคือ จะเป็นความสัมพันธ์ระหว่าง *จักรยาน[ProductName]* และ *ProductManagers[ProductName]* ดังที่อภิปรายข้างต้น ความสัมพันธ์ทั้งหมดที่เชื่อมแหล่งข้อมูลจะมีคาร์ดินาลลิตี้ *กลุ่ม-ต่อ-กลุ่ม* เริ่มต้น 

![หน้าต่าง "สร้างความสัมพันธ์"](media/desktop-composite-models/composite-models_09.png)

หลังจากที่สร้างความสัมพันธ์นี้แล้ว ความสัมพันธ์จะแสดงในมุมมอง **ความสัมพันธ์** ใน Power BI Desktop

![มุมมองความสัมพันธ์ใหม่](media/desktop-composite-models/composite-models_10.png)

เราสามารถสร้างวิชวลโดยการใช้ช่องใดๆ ในรายการ **เขตข้อมูล** ได้แล้ว วิธีการนี้จะผสมข้อมูลจากหลายๆ แหล่งเข้าด้วยกัน เช่น *SalesAmount* ทั้งหมดสำหรับแต่ละ *ผู้จัดการผลิตภัณฑ์* จะแสดงในภาพต่อไปนี้: 

![พื้นที่ช่องข้อมูล](media/desktop-composite-models/composite-models_11.png)

ตัวอย่างต่อไปนี้แสดงกรณีทั่วไปของตาราง *มิติ* เช่น *ผลิตภัณฑ์* หรือ *ลูกค้า* ที่ถูกขยายด้วยข้อมูลพิเศษบางอย่างที่นำเข้าจากที่อื่น นอกจากนี้ยังสามารถมีตารางใช้ DirectQuery เพื่อเชื่อมต่อแหล่งข้อมูลหลากหลาย ในตัวอย่างเดียวกัน สมมติว่า *เป้าหมายการขาย* ต่อ *ประเทศ* และ *ช่วงเวลา* ถูกจัดเก็บไว้ในแผนกฐานข้อมูลที่แยกกัน อีกเช่นเคย คุณสามารถใช้ *GetData* เพื่อเชื่อมไปยังข้อมูลนั้นดังแสดงในภาพต่อไปนี้: 

![หน้าต่างตัวนำทาง](media/desktop-composite-models/composite-models_12.png)

ดังที่ทำก่อนหน้านี้ เราสามารถสร้างความสัมพันธ์ระหว่างตารางใหม่และตารางอื่นๆ ในโมเดล จากนั้นสร้างวิชวลที่รวมข้อมูลตาราง มาดูมุมมอง **ความสัมพันธ์** ที่สร้างความสัมพันธ์ใหม่เอาไว้อีกครั้ง:

![มุมมองความสัมพันธ์ที่มีหลายตาราง](media/desktop-composite-models/composite-models_13.png)

ภาพถัดไปอิงจากข้อมูลใหม่และความสัมพันธ์ที่ได้สร้างไว้ วิชวลด้านล่างซ้ายแสดง *จำนวนการขาย* เทียบกับ *เป้าหมาย* และการคำนวณความแปรปรวนแสดงความแตกต่าง ข้อมูล *จำนวนการขาย* และ *เป้าหมาย* มาจากสองฐานข้อมูลของ SQL Server ที่แตกต่างกัน 

![ภาพแสดงข้อมูลเพิ่มเติม](media/desktop-composite-models/composite-models_14.png)

## <a name="set-the-storage-mode"></a>ตั้งค่าโหมดที่เก็บข้อมูล

แต่ละตารางในโมเดลแบบรวมจะมีโหมดที่เก็บข้อมูลที่บ่งบอกว่าตารางอิงจาก DirectQuery หรือนำเข้า สามารถดูและแก้ไขโหมดที่เก็บข้อมูลได้ในบานหน้าต่าง **คุณสมบัติ** หากต้องการแสดงโหมดที่เก็บข้อมูล ให้คลิกขวาที่ตารางในรายการ **เขตข้อมูล** จากนั้นเลือก **คุณสมบัติ** ภาพต่อไปนี้แสดงโหมดที่เก็บข้อมูลสำหรับตาราง **เป้าหมายการขาย**

![การตั้งค่าโหมดที่เก็บข้อมูล](media/desktop-composite-models/composite-models_15.png)

สามารถดูโหมดที่เก็บข้อมูลได้จากคำแนะนำเครื่องมือสำหรับแต่ละตาราง

![คำแนะนำเครื่องมือที่แสดงโหมดที่เก็บข้อมูล](media/desktop-composite-models/composite-models_16.png)

สำหรับไฟล์ Power BI Desktop ใดๆ (ไฟล์ *.pbix*) ที่มีตารางบางส่วนจาก DirectQuery และตารางนำเข้าบางส่วน แถบสถานะจะแสดงโหมดที่เก็บข้อมูลชื่อ **ผสม** คุณสามารถคลิกที่คำนั้นในแถบสถานะและสลับตารางทั้งหมดได้ง่ายๆ เพื่อนำเข้า

สำหรับข้อมูลเพิ่มเติม โปรดดู [โหมดที่เก็บข้อมูลใน Power BI Desktop (ตัวอย่าง)](desktop-storage-mode.md)  

> [!NOTE]
> คุณสามารถใช้โหมดที่เก็บข้อมูล*ผสม*ใน Power BI Desktop และในบริการของ Power BI ได้

## <a name="calculated-tables"></a>ตารางที่ได้รับการคำนวณ

คุณสามารถเพิ่มตารางคำนวณไปยังโมเดลที่ใช้ DirectQuery ได้ Data Analysis Expressions (DAX) ที่กำหนดตารางคำนวณสามารถอ้างอิงได้ทั้งตารางนำเข้าและตาราง DirectQuery หรือผสมทั้งสองตารางก็ได้ 

ตารางคำนวณจะถูกนำเข้าเสมอ และข้อมูลจะถูกรีเฟรชเมื่อคุณรีเฟรชตาราง หากตารางคำนวณอ้างอิงถึงตาราง DirectQuery วิชวลที่อ้างถึงตาราง DirectQuery จะแสดงค่าล่าสุดในแหล่งข้อมูลเบื้องต้นเสมอ อีกทางหนึ่งคือ วิชวลที่อ้างอิงถึงตารางคำนวณจะแสดงค่าตามเวลาที่ตารางคำนวณรีเฟรชครั้งสุดท้าย

## <a name="security-implications"></a>ความหมายโดยนัยของความปลอดภัย 

โมเดลแบบรวมมีความหมายโดยนัยของความปลอดภัยบางอย่าง คิวรีที่ส่งไปที่แหล่งข้อมูลหนึ่งแหล่งสามารถรวมค่าข้อมูลที่ได้รับจากแหล่งอื่นได้ ในตัวอย่างก่อนหน้านี้ วิชวลที่แสดง *จำนวนการขาย* ตาม *ผู้จัดการผลิตภัณฑ์* ส่งคิวรี SQL ไปยังฐานข้อมูลเชิงสัมพันธ์ **การขาย** คิวรี SQL นั้นอาจมีชื่อของ *ผู้จัดการผลิตภัณฑ์* และ *ผลิตภัณฑ์* ที่เกี่ยวข้อง 

![สคริปต์ที่แสดงความหมายโดยนัยของความปลอดภัย](media/desktop-composite-models/composite-models_17.png)

ดังนั้นข้อมูลที่เก็บไว้ในสเปรดชีตจะถูกรวมอยู่ในคิวรีที่ส่งไปยังฐานข้อมูลเชิงสัมพันธ์ หากข้อมูลนี้เป็นความลับ คุณควรพิจารณาความหมายโดยนัยของความปลอดภัย โดยเฉพาะ ให้พิจารณาประเด็นต่อไปนี้:

* ผู้ดูแลฐานข้อมูลคนใดก็ตามที่สามารถตรวจสอบร่องรอยหรือบันทึกการตรวจสอบ จะสามารถดูข้อมูลนี้แม้จะไม่มีสิทธิ์การใช้งานข้อมูลของแหล่งเดิม ในตัวอย่างนี้ ผู้ดูแลจำเป็นต้องได้สิทธิ์ไปยังไฟล์ Excel

* ควรพิจารณาการตั้งค่าการเข้ารหัสลับสำหรับแต่ละแหล่งข้อมูล คุณต้องการหลีกเลี่ยงการเรียกดูข้อมูลจากแหล่งหนึ่งผ่านการเชื่อมต่อการเข้ารหัสลับ และการรวมแบบไม่ตั้งใจเข้าไปในคิวรีที่ส่งไปยังแหล่งอื่นผ่านการเชื่อมต่อที่ไม่ได้เข้ารหัสลับ 

ในการอนุญาตการยืนยันที่คุณได้พิจารณาความหมายโดยนัยของความปลอดภัยแล้ว Power BI Desktop จะแสดงข้อความเตือนเมื่อคุณสร้างโมเดลแบบรวม  

ด้วยเหตุเดียวกันนี้ ขอให้ระวังการเปิดไฟล์ Power BI Desktop ที่ส่งมาจากแหล่งที่ไม่น่าเชื่อถือ หากไฟล์มีโมเดลแบบรวม ข้อมูลที่มีใครบางคนเรียกดูจากแหล่งหนึ่งโดยการใช้ข้อมูลประจำตัวของผู้ใช้ที่เปิดไฟล์จะถูกส่งไปยังแหล่งข้อมูลอื่นถือเป็นส่วนหนึ่งของคิวรี ข้อมูลอาจได้ถูกดูจากผู้เขียนที่ประสงค์ร้ายต่อไฟล์ Power BI Desktop ดังนั้น เมื่อคุณเริ่มเปิดไฟล์ Power BI Desktop ที่มีหลายแหล่งข้อมูล Power BI Desktop จะแสดงการเตือน การเตือนนี้จะคล้ายกับการเตือนที่แสดงขึ้นเมื่อคุณเปิดไฟล์ที่มีคิวรี SQL ดั้งเดิม  

## <a name="performance-implications"></a>ความหมายโดยนัยของประสิทธิภาพ  

เมื่อใช้ DirectQuery ประสิทธิภาพควรจะได้รับการพิจารณาทุกครั้ง หลักๆ เพื่อทำให้แน่ใจว่าแหล่งที่มา Back-end มีทรัพยากรที่เพียงพอในการมอบประสบการณ์ที่ดีสำหรับผู้ใช้ ประสบการณ์ที่ดี หมายถึง วิชวลรีเฟรชในห้าวินาทีหรือน้อยกว่านั้น คุณควรปฏิบัติตามคำแนะนำด้านประสิทธิภาพในบทความ [ใช้ DirectQuery ใน Power BI](desktop-directquery-about.md) 

การใช้โมเดลแบบรวมเพิ่มข้อควรพิจารณาด้านสมรรถภาพเพิ่มเติม การแสดงผลด้วยภาพเดี่ยวสามารถส่งผลให้เกิดการส่งแบบสอบถามไปยังหลายแหล่งข้อมูลได้ ซึ่งมักจะส่งผ่านผลลัพธ์จากแบบสอบถามหนึ่งไปยังแหล่งที่สอง สถานการณ์นี้สามารถทำให้เกิดการดำเนินการต่อไปนี้:

* **คิวรี SQL ที่รวมถึงค่าคงที่จำนวนมาก**: เช่น วิชวลที่ต้องการ *จำนวนการขาย* ทั้งหมดสำหรับชุด *ผู้จัดการผลิตภัณฑ์* ที่เลือกจะต้องค้นหาว่า *ผลิตภัณฑ์* ใดที่ผู้จัดการผลิตภัณฑ์จัดการ ลำดับนี้จะต้องเกิดขึ้นก่อนที่วิชวลจะส่งคิวรี SQL ซึ่งรวมถึง ID ผลิตภัณฑ์ทั้งหมดในรายการ *WHERE*

* **คิวรี SQL ที่สอบถามระดับต่ำกว่าของรายละเอียดด้วยข้อมูลที่ถูกรวมเฉพาะส่วน**: จากจำนวนของ *ผลิตภัณฑ์* ที่ถึงเกณฑ์ตัวกรองของ *ผู้จัดการผลิตภัณฑ์* เพิ่มขึ้น จึงอาจไม่มีประสิทธิภาพหรือไม่เหมาะที่จะรวมผลิตภัณฑ์ทุกตัวในรายการ *WHERE* แทนที่จะเป็นเช่นนั้น คุณสามารถทำการคิวรีแหล่งที่มาเชิงสัมพันธ์ที่ระดับต่ำกว่าของ *ผลิตภัณฑ์* และจากนั้นรวมผลลัพธ์เฉพาะ หากคาร์ดินาลลิตี้ของ *ผลิตภัณฑ์* เกินขีดจำกัด 1 ล้าน คิวรีจะล้มเหลว

* **คิวรี SQL หลายคิวรี หนึ่งคิวรีต่อกลุ่มตามค่า**: เมื่อการรวมใช้ **DistinctCount** และจัดกลุ่มตามคอลัมน์จากแหล่งที่มาอื่น และหากแหล่งที่มาภายนอกไม่รองรับการส่งผ่านค่าสัญพจน์ที่กำหนดการจัดกลุ่มอย่างมีประสิทธิภาพ ก็เป็นเรื่องจำเป็นที่จะส่งคิวรี SQL หนึ่งคิวรีต่อกลุ่มตามค่า 

   ตัวอย่างเช่น วิชวลที่ร้องขอจำนวนที่แตกต่างกันของ *CustomerAccountNumber* (จากตาราง SQL Server) ตาม *ผู้จัดการผลิตภัณฑ์* (นำเข้าจากสเปรดชีต) จะต้องส่งผ่านรายละเอียดเข้ามาจากตาราง *ผู้จัดการผลิตภัณฑ์* ในคิวรีที่ส่งไปยัง SQL Server บนแหล่งข้อมูลอื่น (เช่น Redshift) การดำเนินการนี้ไม่สามารถทำได้ แต่จะมีการส่งแบบสอบถาม SQL หนึ่งรายการต่อ*ผู้จัดการการขาย* จนถึงขีดจำกัดที่เหมาะสม ซึ่งจุดนั้นแบบสอบถามจะล้มเหลว 

ในแต่ละกรณีดังกล่าวมีความหมายโดยนัยของตัวเองในเรื่องประสิทธิภาพและมีรายละเอียดที่แน่นอนต่างกันไปสำหรับแต่ละแหล่งที่มา แม้ว่าคาร์ดินาลลิตี้ของคอลัมน์ที่ใช้ในความสัมพันธ์ที่รวมสองแหล่งที่มามีค่าต่ำ (จำนวนหลักพัน) แต่ประสิทธิภาพไม่ควรจะได้รับผลกระทบ ขณะที่นี้ดินาลลิตี้ขยาย คุณควรให้ความสำคัญไปยังผลกระทบของผลประสิทธิภาพมากขึ้น ใช้คำแนะนำนี้เป็นหลักการง่ายๆ 

นอกเหนือจากนี้ การใช้ความสัมพันธ์แบบ*กลุ่ม-ต่อ-กลุ่ม*หมายความว่าคิวรีที่แยกจากกันต้องถูกส่งไปยังแหล่งที่มาพื้นฐานสำหรับแต่ละระดับรวมทั้งหมด/หรือระดับรวมย่อยทั้งหมด แทนที่จะเฉลี่ยค่าโดยละเอียดภายใน ภาพตารางง่าย ๆ พร้อมจำนวนทั้งหมดจะส่งคิวรี SQL สองคิวรี แทนที่จะเป็นคิวรีเดียว 

## <a name="limitations-and-considerations"></a>ข้อจำกัดและข้อควรพิจารณา

รุ่นของแบบจำลองแบบรวมนี้มีข้อจำกัดเล็กน้อย

ในปัจจุบัน โมเดลแบบรวมที่เชื่อมต่อกับ SQL, Oracle และแหล่งข้อมูล Teradata เท่านั้นที่รองรับ[การรีเฟรชแบบเพิ่ม](service-premium-incremental-refresh.md)

แหล่งที่มา Live Connect (หลายมิติ) ดังต่อไปนี้ไม่สามารถใช้กับโมเดลแบบรวมได้:

* SAP HANA
* SAP Business Warehouse
* SQL Server Analysis Services
* ชุดข้อมูล Power BI
* Azure Analysis Services

เมื่อทำการเชื่อมต่อกับแหล่งที่มาหลายมิติเหล่านี้โดยใช้ DirectQuery คุณจะไม่สามารถเชื่อมต่อกับแหล่งที่มา DirectQuery อีกแห่ง หรือรวมเข้ากับข้อมูลที่นำเข้าได้

ข้อจำกัดของ DirectQuery ที่มีอยู่ยังคงมีผลเมื่อใช้โมเดลแบบรวม ข้อจำกัดจำนวนมากเหล่านี้เป็นข้อจำกัดต่อตาราง โดยขึ้นอยู่กับโหมดที่เก็บข้อมูลของตาราง ตัวอย่างเช่น คอลัมน์ที่ได้รับการคำนวณบนตารางที่นำเข้าสามารถอ้างอิงไปยังตารางอื่น แต่คอลัมน์ที่ได้รับการคำนวณบนตาราง DirectQuery จะยังคงถูกอ้างอิงไปยังคอลัมน์บนตารางเดียวกันเท่านั้น ข้อจำกัดอื่น ๆ มีผลกับโมเดลทั้งหมด หากมีตารางใดภายในโมเดลที่เป็น DirectQuery ตัวอย่างเช่น คุณลักษณะ QuickInsights และ Q&A จะไม่สามารถใช้งานได้บนโมเดลหากมีตารางใดภายในโมเดลมีโหมดที่เก็บข้อมูลของ DirectQuery 

## <a name="next-steps"></a>ขั้นตอนถัดไป

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับโมเดลแบบรวมและ DirectQuery โปรดดูบทความต่อไปนี้:
* [ความสัมพันธ์แบบกลุ่มต่อกลุ่มใน Power BI Desktop](desktop-many-to-many-relationships.md)
* [โหมดที่เก็บข้อมูลใน Power BI Desktop](desktop-storage-mode.md)
* [ใช้ DirectQuery ใน Power BI](desktop-directquery-about.md)
* [แหล่งข้อมูลที่ได้รับการรองรับโดย DirectQuery ใน Power BI](desktop-directquery-data-sources.md)

