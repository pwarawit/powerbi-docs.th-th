---
title: ใช้ โมเดลแบบรวม ใน Power BI Desktop (ตัวอย่าง)
description: สร้างโมเดลข้อมูลที่มีการเชื่อมต่อข้อมูลและความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่มมากกว่าหนึ่งแห่งใน Power BI Desktop
author: davidiseminger
manager: kfile
ms.reviewer: ''
ms.service: powerbi
ms.component: powerbi-desktop
ms.topic: conceptual
ms.date: 07/31/2018
ms.author: davidi
LocalizationGroup: Transform and shape data
ms.openlocfilehash: ddfe0c7ad116a74fa6887491ee41e544096de0f9
ms.sourcegitcommit: 06f59902105c93700e71e913dff8453e221e4f82
ms.translationtype: HT
ms.contentlocale: th-TH
ms.lasthandoff: 08/01/2018
ms.locfileid: "39388858"
---
# <a name="composite-models-in-power-bi-desktop-preview"></a>โมเดลแบบรวมใน Power BI Desktop (ตัวอย่าง)

ก่อนหน้านี้ใน **Power BI Desktop** เมื่อคุณใช้ DirectQuery ในรายงาน คุณจะไม่สามารถมีการเชื่อมต่อข้อมูลอื่น ไม่ว่าจะเป็น DirectQuery หรือนำเข้าในรายงานนั้นได้ ด้วย**โมเดลแบบรวม**ข้อจำกัดนั้นจะหมดไป และรายงานจะสามารถรวมการเชื่อมต่อข้อมูลจากการเชื่อมต่อข้อมูล DirectQuery หรือนำเข้าได้มากกว่าหนึ่งแห่ง ในแบบใด ๆ ที่คุณเลือก

![โมเดลแบบรวมใน Power BI Desktop](media/desktop-composite-models/composite-models_01.png)

ความสามารถ**โมเดลแบบรวม**ใน **Power BI Desktop** ประกอบด้วยคุณลักษณะสามอย่างที่เกี่ยวข้องกัน:

* **โมเดลแบบรวม** - อนุญาตให้รายงานมีการเชื่อมต่อข้อมูลหลายแบบ รวมถึงการเชื่อมต่อ DirectQuery หรือการนำเข้า ในรูปแบบใด ๆ ก็ตาม
* **ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่ม** - ด้วย**โมเดลแบบรวม**คุณสามารถสร้าง**ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่ม**ระหว่างตาราง ลบข้อกำหนดสำหรับการต้องมีค่าเฉพาะในตาราง และลบการแก้ไขปัญหาชั่วคราวอย่างเช่นการใช้ตารางใหม่เพียงเพื่อสร้างความสัมพันธ์ 
* **โหมดที่เก็บข้อมูล** – ในตอนนี้คุณสามารถระบุว่าภาพไหนที่ต้องการคิวรีไปยังแหล่งข้อมูล Back-end และภาพที่ไม่ต้องการจะได้รับการนำเข้าแม้ว่าจะอิงตาม DirectQuery ช่วยเพิ่มประสิทธิภาพและลดภาระ Back-end ก่อนหน้านี้แม้แต่ภาพง่าย ๆ อย่างตัวแบ่งส่วนข้อมูลก็จะส่งคิวรีไปยังแหล่งที่มา Back-end 

คอลเลกชันคุณลักษณะที่เกี่ยวข้องกันสามอย่างสำหรับ**โมเดลแบบรวม**ได้มีอธิบายไว้ในบทความแยกกัน:

* **โมเดลแบบรวม**ได้รับการอธิบายไว้โดยละเอียดในบทความนี้
* **ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่ม**ได้รับการอธิบายไว้อย่างละเอียดในบทความของตัวเอง [ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่มใน Power BI Desktop (ตัวอย่าง)](desktop-many-to-many-relationships.md)
* **โหมดที่เก็บข้อมูล**ได้อธิบายไว้ในบทความของตัวเอง [โหมดที่เก็บข้อมูลใน Power BI Desktop (ตัวอย่าง)](desktop-storage-mode.md)

## <a name="enabling-the-composite-models-preview-feature"></a>การเปิดใช้งานคุณลักษณะตัวอย่างโมเดลแบบรวม

คุณลักษณะ**โมเดลแบบรวม**อยู่ใน ช่วงตัวอย่าง และต้องเปิดใช้งานใน **Power BI Desktop** หากต้องการเปิดใช้งาน**โมเดลแบบรวม** ให้ไปที่ **ไฟล์ > ตัวเลือกและการตั้งค่า > ตัวเลือก > คุณลักษณะตัวอย่าง** จากนั้นเลือกกล่องกาเครื่องหมาย**โมเดลแบบรวม** 

![การเปิดใช้งานคุณลักษณะตัวอย่าง](media/desktop-composite-models/composite-models_02.png)

คุณจำเป็นต้องรีสตาร์ต **Power BI Desktop** เพื่อเปิดใช้งานคุณลักษณะ

![จำเป็นต้องรีสตาร์ตเพื่อให้การเปลี่ยนแปลงมีผล](media/desktop-composite-models/composite-models_03.png)


## <a name="using-composite-models"></a>การใช้งานโมเดลแบบรวม

ด้วย**โมเดลแบบรวม**คุณสามารถเชื่อมต่อไปยังแหล่งข้อมูลได้ทุกรูปแบบเมื่อใช้ **Power BI Desktop** หรือ **บริการ Power BI** และคุณสามารถสร้างการเชื่อมต่อเหล่านั้นได้หลายทาง คุณสามารถนำเข้าข้อมูลไปยัง Power BI ซึ่งเป็นวิธีที่ใช้บ่อยที่สุดในการรับข้อมูล หรือคุณสามารถเชื่อมต่อไปยังข้อมูลในแหล่งที่เก็บข้อมูลต้นฉบับได้โดยตรงโดยใช้ DirectQuery คุณสามารถเรียนรู้เพิ่มเติมเกี่ยวกับรายละเอียด DirectQuery ได้ในบทความ [การใช้งาน DirectQuery ใน Power BI](desktop-directquery-about.md)

เมื่อใช้ DirectQuery ด้วย**โมเดลแบบรวม**คุณสามารถสร้างโมเดล Power BI (อย่างเช่นไฟล์ Power BI Desktop .pbix เดี่ยว ๆ ) ที่ทำงานดังนี้:

* รวมข้อมูลจากแหล่งที่มา DirectQuery หนึ่งแห่งขึ้นไป และ/หรือ
* รวมข้อมูลจากแหล่งที่มา DirectQuery และนำเข้าข้อมูล

ตัวอย่างเช่น ด้วย**โมเดลแบบรวม**คุณสามารถสร้างโมเดลที่รวมข้อมูลการขายจากคลังข้อมูลขององค์กร เข้ากับข้อมูลเป้าหมายการขายที่อยู่ในฐานข้อมูลเซิร์ฟเวอร์ SQL ของแผนก พร้อมกับข้อมูลบางส่วนที่นำเข้าจากสเปรดชีต โมเดลที่รวมข้อมูลจากแหล่งที่มา DirectQuery มากกว่าหนึ่งแห่ง หรือรวม DirectQuery เข้ากับข้อมูลที่นำเข้ามีชื่อว่า*โมเดลแบบรวม*

> [!NOTE]
> ในขณะที่โมเดลแบบรวมอยู่ใน ช่วงตัวอย่าง คุณจะไม่สามารถเผยแพร่โมเดลแบบรวมไปยัง บริการ Power BI ได้ 

คุณสามารถสร้างความสัมพันธ์ระหว่างตารางได้เช่นเคย แม้ว่าตารางนั้นจะมาจากคนละแหล่งที่มากัน โดยมีข้อจำกัดต่อไปนี้: ความสัมพันธ์ใดที่ข้ามแหล่งที่มาจะต้องกำหนดให้เป็นคาร์ดินาลลิตี้ของ **กลุ่ม-ต่อ-กลุ่ม** โดยไม่คำนึงคาร์ดินาลลิตี้จริงของตาราง พฤติกรรมของความสัมพันธ์เช่นนั้นจะเป็นเช่นปกติสำหรับความสัมพันธ์แบบ **กลุ่ม-ต่อ-กลุ่ม** ดังที่ได้อธิบายไว้ใน [ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่มใน Power BI Desktop (ตัวอย่าง)](desktop-many-to-many-relationships.md) โปรดทราบว่าในบริบทของโมเดลแบบรวม ตารางที่นำเข้าทั้งหมดจะถือว่าเป็นแหล่งเดียว โดยไม่คำนึงถึงแหล่งข้อมูลพื้นฐานที่นำเข้าข้อมูลมาจาก   

## <a name="example-of-using-composite-models"></a>ตัวอย่างของการใช้งานโมเดลแบบรวม

ในฐานะตัวอย่างของ**โมเดลแบบรวม** ให้ลองพิจารณารายงานที่เชื่อมต่อกับคลังข้อมูลองค์กร (ในเซิร์ฟเวอร์ SQL) โดยใช้ DirectQuery ซึ่งคลังข้อมูลมีข้อมูลของ *การขาย ตาม ประเทศ* *ไตรมาส* และ *จักรยาน (ผลิตภัณฑ์)* ดังที่แสดงในภาพด้านล่าง

![มุมมองความสัมพันธ์สำหรับโมเดลแบบรวม](media/desktop-composite-models/composite-models_04.png)

ณ จุดนี้คุณสามารถสร้างภาพง่าย ๆ โดยใช้เขตข้อมูลจากแหล่งที่มานี้ ตัวอย่างเช่น ภาพด้านล่างแสดงจำนวนการขายทั้งหมดตาม *ProductName* สำหรับไตรมาสที่เลือก 

![ภาพที่อิงจากข้อมูล](media/desktop-composite-models/composite-models_05.png)

แต่จะเป็นอย่างไรถ้าคุณมีข้อมูลบางส่วนของ ผู้จัดการผลิตภัณฑ์ ที่ได้รับการกำหนดไปยังแต่ละผลิตภัณฑ์ พร้อมกับลำดับความสำคัญทางการตลาด ซึ่งข้อมูลได้รับการจัดการในสเปรดชีต Excel คุณอาจอยากดู *จำนวนการขาย* ตาม *ผู้จัดการผลิตภัณฑ์* แต่การเพิ่มข้อมูลภายในนี้ไปยังคลังข้อมูลองค์กรเป็นสิ่งที่ไม่น่าจะเป็นไปได้ หรืออย่างดีก็ใช้เวลาหลายเดือน แม้ว่าจะเป็นไปได้ที่จะนำเข้าข้อมูลการขายนั้นจากคลังข้อมูล (แทนที่จะใช้ DirectQuery) ซึ่งจุดนั้นคุณอาจรวมข้อมูลเข้ากับข้อมูลที่นำเข้าจากสเปรดชีต วิธีนั้นเป็นวิธีที่ไม่สมเหตุสมผลเพราะมีเหตุที่นำไปสู่การต้องใช้ DirectQuery ตั้งแต่แรก – อย่างเช่นกฎทางด้านความปลอดภัยบางชุดที่บังคับใช้ในแหล่งที่มาพื้นฐาน ความต้องการดูข้อมูลล่าสุด และขนาดความใหญ่ของข้อมูล 

และนี่คือจุดที่**โมเดลแบบรวม**เข้ามาช่วย โมเดลแบบรวมมอบทางเลือกในการเชื่อมต่อกับคลังข้อมูลโดยใช้ DirectQuery และจากนั้นยังใช้ GetData สำหรับแหล่งที่มาเพิ่มเติม ในกรณีนี้เราสร้างการเชื่อมต่อ DirectQuery ไปยังคลังข้อมูลองค์กร จากนั้นใช้ GetData และเลือก Excel แล้วเลื่อนไปยังสเปรดชีตที่มีข้อมูลภายในของเรา และสามารถนำเข้าชีตที่มี *ProductNames* *SalesManager* ที่ได้รับการกำหนด และ *ลำดับความสำคัญ*  

![หน้าต่างตัวนำทาง](media/desktop-composite-models/composite-models_06.png)

ตอนนี้ในรายการ **เขตข้อมูล** เราเห็นตาราง *จักรยาน* ต้นฉบับ (จากเซิร์ฟเวอร์ SQL) และตาราง *ผู้จัดการผลิตภัณฑ์* ใหม่ (พร้อมข้อมูลที่นำเข้าจาก Excel) 

![มุมมองเขตข้อมูลของตาราง](media/desktop-composite-models/composite-models_07.png)

ในทำนองเดียวกัน ถ้าดูที่ **มุมมองความสัมพันธ์** ใน **Power BI Desktop** เราจะเห็นตารางเพิ่มเติมที่มีชื่อว่า *ผู้จัดการผลิตภัณฑ์* 

![มุมมองความสัมพันธ์ของตาราง](media/desktop-composite-models/composite-models_08.png)

ตอนนี้เราต้องเชื่อมโยงตารางนี้กับตารางอื่นในโมเดล ซึ่งเราทำแบบที่ทำเป็นปกติ ด้วยการสร้างความสัมพันธ์ระหว่างตาราง *จักรยาน* (ในเซิร์ฟเวอร์ SQL) และตาราง *ผู้จัดการผลิตภัณฑ์* (ที่นำเข้ามา) เช่นระหว่าง *Bike[ProductName]* และ *ProductManagers[ProductName]* อย่างที่ได้พูดคุยไปก่อนหน้านี้ในบทความนี้ ความสัมพันธ์ทั้งหมดที่ข้ามแหล่งที่มาจะต้องมีคาร์ดินาลลิตี้ **กลุ่ม-ต่อ-กลุ่ม** และเพราะแบบนั้น นั่นคือคาร์ดินาลลิตี้เริ่มต้นที่ถูกเลือกไว้ 

![สร้างกล่องโต้ตอบความสัมพันธ์](media/desktop-composite-models/composite-models_09.png)

หลังจากที่สร้างความสัมพันธ์นี้ ความสัมพันธ์จะแสดงใน **มุมมองความสัมพันธ์** ใน **Power BI Desktop** อย่างที่เราจะคาดหวัง

![มุมมองความสัมพันธ์ใหม่](media/desktop-composite-models/composite-models_10.png)

เมื่อมีการสร้างความสัมพันธ์ตารางเหล่านั้นแล้ว ตอนนี้เราสามารถสร้างภาพโดยใช้เขตข้อมูลใด ๆ ในรายการ **เขตข้อมูล** ผสานข้อมูลจากหลายแหล่งอย่างไร้รอยต่อ ตัวอย่างเช่น ภาพด้านล่างแสดง *จำนวนการขาย* ทั้งหมดสำหรับแต่ละ *ผู้จัดการผลิตภัณฑ์* 

![ภาพที่มีบานหน้าต่าง เขตข้อมูล แสดงอยู่](media/desktop-composite-models/composite-models_11.png)

ตัวอย่างนี้แสดงกรณีทั่วไปของการที่ตาราง*มิติ* (เช่น *ผลิตภัณฑ์* หรือ *ลูกค้า*) ได้รับการขยายด้วยข้อมูลเพิ่มเติม ฉะนั้นเพื่อเป็นการขยายตัวอย่างของเรา ลองจิตนาการว่า *SalesTargets* ต่อ *ประเทศ* และ *ช่วงเวลา* ถูกเก็บไว้ในฐานข้อมูลของแผนกแยกต่างหาก คุณสามารถใช้ **GetData** เพื่อเชื่อมไปยังข้อมูลนั้นแบบที่คุณจะทำโดยปกติ ดังที่แสดงในภาพด้านล่าง 

![กล่องโต้ตอบตัวนำทาง](media/desktop-composite-models/composite-models_12.png)

จากนั้น ในทำนองเดียวกับที่เราทำไปก่อนหน้านี้ในตัวอย่างนี้ เราสามารถสร้างความสัมพันธ์ระหว่างตารางใหม่และตารางอื่นในโมเดล และสร้างภาพที่รวมข้อมูลเหล่านั้น ลองมาดูอีกครั้งที่ **มุมมองความสัมพันธ์** ซึ่งเราได้สร้างความสัมพันธ์ใหม่ในสถานการณ์ตัวอย่างที่ขยายของเรา

![มุมมองความสัมพันธ์ที่มีตารางจำนวนมาก](media/desktop-composite-models/composite-models_13.png)

ดังที่แสดงในภาพด้านล่าง ซึ่งอิงจากข้อมูลใหม่และความสัมพันธ์ที่เราสร้าง ภาพทางมุมล่างซ้ายแสดง *จำนวนการขาย* ทั้งหมดเทียบกับ *เป้าหมาย* โดยมีการคำนวณความแตกต่างแสดงความต่างให้เห็น ซึ่ง *จำนวนการขาย* และ *เป้าหมาย* มาจากฐานข้อมูลเซิร์ฟเวอร์ SQL ที่ต่างกัน 

![ภาพแสดงข้อมูลเพิ่มเติม](media/desktop-composite-models/composite-models_14.png)

## <a name="setting-storage-mode"></a>การตั้งค่าโหมดที่เก็บข้อมูล

แต่ละตารางใน**โมเดลแบบรวม**มี**โหมดที่เก็บข้อมูล**ที่ระบุว่าตารางอิงจาก DirectQuery หรือนำเข้า **โหมดที่เก็บข้อมูล** สามารถดูและแก้ไขได้ในบานหน้าต่าง **คุณสมบัติ** การเข้าไปที่นั่นทำได้โดย คลิก **คุณสมบัติ** จากเมนูคลิกขวาของรายการ **เขตข้อมูล** ภาพด้านล่างแสดง**โหมดที่เก็บข้อมูล** (ย่อเป็น **โหมดที่เก็บ…** ในภาพ เนื่องจากความยาวของบานหน้าต่าง)

![การตั้งค่าโหมดที่เก็บข้อมูล](media/desktop-composite-models/composite-models_15.png)

**โหมดที่เก็บข้อมูล**ยังสามารถเห็นได้จากคำแนะนำเครื่องมือสำหรับแต่ละตาราง

![คำแนะนำเครื่องมือพร้อมโหมดที่เก็บข้อมูล](media/desktop-composite-models/composite-models_16.png)

สำหรับไฟล์ **Power BI Desktop** ใด ๆ (ไฟล์ .pbix) ที่มีตารางบางส่วนจาก DirectQuery และตารางนำเข้าบางส่วน แถบสถานะจะแสดง**โหมดที่เก็บข้อมูล** ของ **ผสม** คุณสามารถคลิกที่คำนั้นในแถบสถานะและสลับตารางทั้งหมดได้ง่าย ๆ เพื่อนำเข้า

รายละเอียดเกี่ยวกับ**โหมดที่เก็บข้อมูล**ได้อธิบายไว้ทั้งหมดในบทความ[โหมดที่เก็บข้อมูลใน Power BI Desktop (ตัวอย่าง)](desktop-storage-mode.md)  

## <a name="calculated-tables"></a>ตารางที่ได้รับการคำนวณ

สามารถเพิ่มตารางที่ได้รับการคำนวณไปยังโมเดลที่ใช้ DirectQuery และ DAX ที่กำหนดตารางที่ได้รับการคำนวณสามารถอ้างอิงตารางที่นำเข้าหรือ DirectQuery ก็ได้ หรือรวมกันทั้งสองอย่าง 

ตารางที่ได้รับการคำนวณจะถูกนำเข้าเสมอ และข้อมูลในตารางนั้นจะได้รับการรีเฟรชเมื่อรีเฟรชตาราง และเพราะแบบนั้น หากตารางที่ได้รับการคำนวณอ้างอิงตาราง DirectQuery ภาพที่อ้างอิงตาราง DirectQuery จะแสดงค่าล่าสุดในแหล่งที่มาพื้นฐานเสมอ แต่ภาพที่อ้างอิงตารางที่ได้รับการคำนวณจะแสดงค่า ณ เวลาที่ตารางที่ได้รับการคำนวณรีเฟรชครั้งล่าสุด

## <a name="security-implications"></a>ความหมายโดยนัยของความปลอดภัย 

โมเดลแบบรวมมีความหมายโดยนัยของความปลอดภัยบางอย่าง คิวรีที่ส่งไปที่แหล่งข้อมูลหนึ่งแหล่งสามารถรวมค่าข้อมูลที่ได้รับจากแหล่งอื่นได้ จากตัวอย่างที่อธิบายไปก่อนหน้านี้ในบทความนี้ ภาพที่แสดง *จำนวนการขาย* ตาม *ผู้จัดการผลิตภัณฑ์* จะทำให้เกิดการส่งคิวรี SQL ไปยังฐานข้อมูลเชิงสัมพันธ์ของ **การขาย** ซึ่งคิวรี SQL นั้นอาจมีชื่อของ *ผู้จัดการผลิตภัณฑ์* และ *ผลิตภัณฑ์* ที่เกี่ยวข้อง 

![สคริปต์ที่แสดงความหมายโดยนัยของความปลอดภัย](media/desktop-composite-models/composite-models_17.png)

ด้วยเหตุนี้ ข้อมูลที่เก็บไว้ในสเปรดชีตจะถูกรวมอยู่ในคิวรีที่ส่งไปยังฐานข้อมูลเชิงสัมพันธ์ หากข้อมูลนี้เป็นความลับ ความหมายโดยนัยของความปลอดภันของสิ่งนี้ก็ควรได้รับการพิจารณา โดยเฉพาะอย่างยิ่ง คุณควรพิจารณาความหมายโดยนัยเหล่านี้:

* ผู้แลใดของฐานข้อมูลที่สามารถเห็นร่องรอยหรือบันทึกการตรวจสอบจะสามารถเห็นข้อมูลนี้ แม้ว่าพวกเขาจะไม่มีสิทธิ์ในข้อมูลที่อยู่ในแหล่งที่มาต้นฉบับ (ในกรณีนี้คือสิทธิ์ในไฟล์ Excel)

* การตั้งค่าการเข้ารหัสสำหรับแต่ละแหล่งที่มาควรได้รับการพิจารณา เพื่อหลีกเลี่ยงการที่ข้อมูลถูกดึงจากหนึ่งแหล่งที่มาโดยใช้การเชื่อมต่อที่เข้ารหัส แต่มีการเพิ่มข้อมูลนี้ไปยังคิวรีที่ส่งไปยังแหล่งที่มาอื่นโดยใช้การเชื่อมต่อที่ไม่ได้เข้ารหัส อย่างไม่ได้ตั้งใจ 

**Power BI Desktop** แสดงข้อความเตือนเมื่อมีการดำเนินการเพื่อสร้างโมเดลแบบรวม เพื่ออนุญาตการยืนยันว่าความหมายโดยนัยของความปลอดภัยใด ๆ ได้รับการพิจารณาแล้ว  

ด้วยเหตุผลในทำนองเดียวกัน จำเป็นต้องใช้ความเอาใจใส่เมื่อเปิดไฟล์ **Power BI Desktop** ที่ส่งจากแหล่งที่มาที่ไม่น่าเชื่อถือ หากไฟล์นั้นมีโมเดลแบบรวม นั่นหมายความว่าข้อมูลที่ดึงจากแหล่งที่มาหนึ่ง (โดยใช้ข้อมูลประจำตัวของผู้ใช้ที่เปิดไฟล์) จะถูกส่งไปยังแหล่งข้อมูลอื่นในฐานะส่วนหนึ่งของคิวรี (ซึ่งข้อมูลอาจถูกเห็นโดยผู้สร้างที่ประสงค์ร้ายของไฟล์ Power BI Desktop) ดังนั้น เมื่อเปิดไฟล์ Power BI Desktop ครั้งแรก หากข้อมูลมีแหล่งที่มาหลายแห่ง คำเตือนจะปรากฏขึ้น คำเตือนนี้คล้ายกับคำเตือนที่ปรากฏเมื่อเปิดไฟล์ที่มีคิวรี SQL ดั้งเดิม  

## <a name="performance-implications"></a>ความหมายโดยนัยของประสิทธิภาพ  

เมื่อใช้ DirectQuery ประสิทธิภาพควรจะได้รับการพิจารณาทุกครั้ง หลัก ๆ เพื่อทำให้แน่ใจว่าแหล่งที่มา Backend มีทรัพยากรที่เพียงพอในการมอบประสบการณ์ที่ดีสำหรับผู้ใช้ ประสบการณ์ที่ดีหมายความว่าภาพควรรีเฟรชใน 5 วินาทีหรือน้อยกว่านั้น คุณยังควรยึดคำแนะนำด้านประสิทธิภาพในบทความ [การใช้งาน DirectQuery ใน Power BI](desktop-directquery-about.md) การใช้โมเดลแบบรวมจะเพิ่มการพิจารณาด้านประสิทธิภาพเพิ่มเติม เนื่องจากภาพเดียวอาจทำให้เกิดการส่งคิวรีไปยังแหล่งที่มาหลายแหล่ง โดยมักจะส่งผ่านผลลัพธ์จากคิวรีหนึ่งข้ามไปยังแหล่งที่มาที่สอง สถานการณ์นี้สามารถทำให้เกิดการดำเนินการที่เป็นไปได้ดังต่อไปนี้:

* **คิวรี SQL ที่รวมค่าสัญพจน์จำนวนมาก** - ตัวอย่างเช่น ภาพที่ร้องขอ *จำนวนการขาย* ทั้งหมด (จากฐานข้อมูล SQL) สำหรับชุด *ผู้จัดการผลิตภัณฑ์* ที่เลือก (จากตารางที่เกี่ยวข้องที่นำเข้าจากสเปรดชีต) จะต้องหาว่า *ผลิตภัณฑ์* ที่ได้รับการจัดการโดย ผู้จัดการผลิตภัณฑ์ เป็นอย่างแรก ก่อนที่จะส่งคิวรี SQL รวมถึงรหัสผลิตภัณฑ์ทั้งหมดในส่วนคำสั่ง *WHERE*

* **คิวรี SQL ที่ทำการคิวรีที่ส่วนประกอบในระดับต่ำกว่า ที่หลังจากนั้นข้อมูลจะถูกเฉลี่ยภายใน** - โดยใช้ตัวอย่างเดียวกับหัวข้อก่อนหน้านี้ในรายการนี้ เมื่อจำนวน *ผลิตภัณฑ์* ที่พบตัวกรองบน *ผู้จัดการผลิตภัณฑ์* มีขนาดใหญ่มาก ณ จุดหนึ่งจะกลายเป็นเรื่องที่เป็นไปไม่ได้หรือไม่มีประสิทธิภาพที่จะรวมข้อมูลทั้งหมดในส่วนคำสั่ง *WHERE* แทนที่จะเป็นเช่นนั้น เป็นเรื่องจำเป็นที่จะทำการคิวรีแหล่งที่มาเชิงสัมพันธ์ที่ระดับต่ำกว่าของ *ผลิตภัณฑ์* และจากนั้นเฉลี่ยผลลัพธ์ภายใน หากคาร์ดินาลลิตี้ของ *ผลิตภัณฑ์* เกินขีดจำกัด 1 ล้าน คิวรีจะล้มเหลว

* **คิวรี SQL หลายคิวรี หนึ่งคิวรีต่อกลุ่มตามค่า** – เมื่อการเฉลี่ยใช้ **DistinctCount** และจัดกลุ่มตามคอลัมน์บางคอลัมน์จากแหล่งที่มาอื่น เมื่อนั้นถ้าแหล่งที่มาภายนอกไม่สนับสนุนการส่งผ่านค่าสัญพจน์ที่กำหนดการจัดกลุ่มอย่างมีประสิทธิภาพ ก็เป็นเรื่องจำเป็นที่จะส่งคิวรี SQL หนึ่งคิวรีต่อกลุ่มตามค่า ตัวอย่างเช่น ภาพที่ร้องขอจำนวนที่แตกต่างกันของ *CustomerAccountNumber* (จากตารางเซิร์ฟเวอร์ SQL) ตาม *ผู้จัดการผลิตภัณฑ์* (จากตารางที่เกี่ยวข้องซึ่งนำเข้าจากสเปรดชีต) จะต้องส่งผ่านรายละเอียดเข้ามาจากตาราง *ผู้จัดการผลิตภัณฑ์* ในคิวรีที่ส่งไปยังเซิรืฟเวอร์ SQL ในแหล่งที่มาอื่น ตัวอย่างเช่น Redshift สิ่งนี้เป็นไปไม่ได้ และจะมีคิวรี SQL หนึ่งคิวรีที่ถูกส่งต่อ *ผู้จัดการผลิตภัณฑ์* แทน (จนถึงขีดจำกัดที่เหมาะสม ซึ่งจุดนั้นคิวรีจะล้มเหลว) 

ในแต่ละกรณีดังกล่าวมีความหมายโดยนัยของตัวเองในเรื่องประสิทธิภาพ โดยมีรายละเอียดที่แน่นอนต่างกันไปสำหรับแต่ละแหล่งที่มา หลักการง่าย ๆ คือในขณะที่คาร์ดินาลลิตี้ของคอลัมน์ที่ใช้ในความสัมพันธ์ที่รวมสองแหล่งที่มามีค่าต่ำ (จำนวนหลักพัน) เมื่อนั้นประสิทธิภาพไม่ควรจะได้รับผลกระทบที่ชัดเจน เมื่อคาร์ดินาลลิตี้นี้มากขึ้น ก็จำเป็นต้องใช้การพิจารณามากขึ้นในเรื่องผลกระทบต่อประสิทธิภาพ 

นอกเหนือจากนี้ การใช้ความสัมพันธ์แบบ**กลุ่ม-ต่อ-กลุ่ม**หมายความว่าคิวรีที่แยกจากกันต้องถูกส่งไปยังแหล่งที่มาพื้นฐานสำหรับแต่ละระดับรวมทั้งหมด/ระดับรวมย่อยทั้งหมด แทนที่จะเฉลี่ยค่าโดยละเอียดภายใน เพราะแบบนั้น ภาพตารางง่าย ๆ พร้อมจำนวนทั้งหมดจะส่งคิวรี SQL สองคิวรี แทนที่จะเป็นคิวรีเดียว 

## <a name="limitations-and-considerations"></a>ข้อจำกัดและข้อควรพิจารณา

มีข้อจำกัดบางอย่างสำหรับ**โมเดลแบบรวม**รุ่นนี้

แหล่งที่มาหลายมิติดังต่อไปนี้ไม่สามารถใช้กับ**โมเดลแบบรวม**ได้:

* SAP HANA
* SAP Business Warehouse
* SQL Server Analysis Services
* ชุดข้อมูล Power BI

เมื่อทำการเชื่อมต่อกับแหล่งที่มาหลายมิติแบบนั้นโดยใช้ DirectQuery คุณจะไม่สามารถเชื่อมต่อกับแหล่งที่มา DirectQuery อีกแห่งด้วย หรือรวมเข้ากับข้อมูลที่นำเข้าด้วยได้

ข้อจำกัดในการใช้ DirectQuery ที่มีอยู่ยังคงมีผลเมื่อใช้**โมเดลแบบรวม** ข้อจำกัดจำนวนมากนี้เป็นข้อจำกัดต่อตาราง โดยขึ้นอยู่กับ**โหมดที่เก็บข้อมูล**ของตาราง ตัวอย่างเช่น คอลัมน์ที่ได้รับการคำนวณบนตารางที่นำเข้าสามารถอ้างอิงไปยังตารางอื่น แต่ตารางที่ได้รับการคำนวณบนตาราง DirectQuery จะยังคงถูกจำกัดให้อ้างอิงไปยังคอลัมน์บนตารางเดียวกันเท่านั้น ข้อจำกัดอื่น ๆ มีผลกับโมเดลทั้งหมด หากมีตารางใดภายในโมเดลที่เป็น DirectQuery ตัวอย่างเช่น คุณลักษณะ **QuickInsights** และ **Q&A** จะไม่สามารถใช้งานได้บนโมเดลหากมีตารางใดภายในโมเดลมี**โหมดที่เก็บข้อมูล**ของ DirectQuery 

## <a name="next-steps"></a>ขั้นตอนถัดไป

บทความต่อไปนี้อธิบายเพิ่มเติมเกี่ยวกับโมเดลแบบรวม และยังอธิบาย DirectQuery โดยละเอียด

* [ความสัมพันธ์แบบกลุ่ม-ต่อ-กลุ่มใน Power BI Desktop (ตัวอย่าง)](desktop-many-to-many-relationships.md)
* [โหมดที่เก็บข้อมูล ใน Power BI Desktop (ตัวอย่าง)](desktop-storage-mode.md)

บทความ DirectQuery:

* [การใช้ DirectQuery ใน Power BI](desktop-directquery-about.md)
* [แหล่งข้อมูลที่ได้รับการรองรับโดย DirectQuery ใน Power BI](desktop-directquery-data-sources.md)

